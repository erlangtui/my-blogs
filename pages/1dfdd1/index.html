<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux不常用但重要的命令 | 二郎腿</title>
    <meta name="generator" content="VuePress 1.9.5">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?86ac0ecbbcef4ed865459d11c23571d9";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
      </script>        
      </script>
    <link rel="icon" href="/img/logo.ico">
    <meta name="description" content="后端技术博客，个人学习与总结。Go、C++、Python、Shell，Mysql、Redis、Kafka、Docker、Consul、Hive等技术文">
    <meta name="keywords" content="后端开发，个人博客，技术文档，Go、C++、Python、Mysql、Redis、Kafka等">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.18e57ec0.css" as="style"><link rel="preload" href="/assets/js/app.c539c36f.js" as="script"><link rel="preload" href="/assets/js/2.9e820baa.js" as="script"><link rel="preload" href="/assets/js/3.4ca38539.js" as="script"><link rel="preload" href="/assets/js/37.10025952.js" as="script"><link rel="prefetch" href="/assets/js/10.e1b0d8a5.js"><link rel="prefetch" href="/assets/js/11.b5f681cb.js"><link rel="prefetch" href="/assets/js/12.02a7e92d.js"><link rel="prefetch" href="/assets/js/13.cd65ed81.js"><link rel="prefetch" href="/assets/js/14.b78ef9e9.js"><link rel="prefetch" href="/assets/js/15.da8968b4.js"><link rel="prefetch" href="/assets/js/16.896c95c1.js"><link rel="prefetch" href="/assets/js/17.9c6211ef.js"><link rel="prefetch" href="/assets/js/18.55fa380a.js"><link rel="prefetch" href="/assets/js/19.c5cb6da1.js"><link rel="prefetch" href="/assets/js/20.656a4539.js"><link rel="prefetch" href="/assets/js/21.fa02874c.js"><link rel="prefetch" href="/assets/js/22.bac4e54c.js"><link rel="prefetch" href="/assets/js/23.d33e000d.js"><link rel="prefetch" href="/assets/js/24.0f07c41c.js"><link rel="prefetch" href="/assets/js/25.b6481382.js"><link rel="prefetch" href="/assets/js/26.806c50d2.js"><link rel="prefetch" href="/assets/js/27.dac45b32.js"><link rel="prefetch" href="/assets/js/28.a4095e44.js"><link rel="prefetch" href="/assets/js/29.3ca8b1c5.js"><link rel="prefetch" href="/assets/js/30.69be491d.js"><link rel="prefetch" href="/assets/js/31.a6cdd568.js"><link rel="prefetch" href="/assets/js/32.25f140a2.js"><link rel="prefetch" href="/assets/js/33.2463ace7.js"><link rel="prefetch" href="/assets/js/34.55139f3f.js"><link rel="prefetch" href="/assets/js/35.1597ab33.js"><link rel="prefetch" href="/assets/js/36.fe78e5b6.js"><link rel="prefetch" href="/assets/js/38.aace8a0e.js"><link rel="prefetch" href="/assets/js/39.5eee4cec.js"><link rel="prefetch" href="/assets/js/4.920c515a.js"><link rel="prefetch" href="/assets/js/40.09bbe2b9.js"><link rel="prefetch" href="/assets/js/41.14ee9c75.js"><link rel="prefetch" href="/assets/js/42.c12145b4.js"><link rel="prefetch" href="/assets/js/43.95873a83.js"><link rel="prefetch" href="/assets/js/44.7b7658cd.js"><link rel="prefetch" href="/assets/js/45.68c6aed7.js"><link rel="prefetch" href="/assets/js/46.373760e6.js"><link rel="prefetch" href="/assets/js/47.53e1766d.js"><link rel="prefetch" href="/assets/js/48.b1904705.js"><link rel="prefetch" href="/assets/js/49.547bc148.js"><link rel="prefetch" href="/assets/js/5.9b1cece1.js"><link rel="prefetch" href="/assets/js/50.1c004c2f.js"><link rel="prefetch" href="/assets/js/51.5d895c28.js"><link rel="prefetch" href="/assets/js/52.3635e049.js"><link rel="prefetch" href="/assets/js/53.7eb5229b.js"><link rel="prefetch" href="/assets/js/54.4085597d.js"><link rel="prefetch" href="/assets/js/55.f71c338f.js"><link rel="prefetch" href="/assets/js/56.55f883f2.js"><link rel="prefetch" href="/assets/js/57.20cb3ab7.js"><link rel="prefetch" href="/assets/js/58.3ae50c3a.js"><link rel="prefetch" href="/assets/js/59.b63354b8.js"><link rel="prefetch" href="/assets/js/6.15177208.js"><link rel="prefetch" href="/assets/js/60.359caa0d.js"><link rel="prefetch" href="/assets/js/61.8004ed80.js"><link rel="prefetch" href="/assets/js/62.7e69e25d.js"><link rel="prefetch" href="/assets/js/63.f67fa469.js"><link rel="prefetch" href="/assets/js/64.8032413b.js"><link rel="prefetch" href="/assets/js/7.0c34c36b.js"><link rel="prefetch" href="/assets/js/8.5798806d.js"><link rel="prefetch" href="/assets/js/9.2fefa909.js">
    <link rel="stylesheet" href="/assets/css/0.styles.18e57ec0.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="二郎腿" class="logo"> <span class="site-name can-hide">二郎腿</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><a href="/lang/" class="link-title">语言</a> <span class="title" style="display:none;">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/a164c7/" class="nav-link">Go</a></li><li class="dropdown-item"><!----> <a href="/pages/eda4d8/" class="nav-link">C++</a></li><li class="dropdown-item"><!----> <a href="/pages/a829c6/" class="nav-link">Python</a></li><li class="dropdown-item"><!----> <a href="/pages/e7ba23/" class="nav-link">Shell</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端技术" class="dropdown-title"><a href="/technology/" class="link-title">后端技术</a> <span class="title" style="display:none;">后端技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/1dfdd1/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Linux</a></li><li class="dropdown-item"><!----> <a href="/pages/bc1d83/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/pages/d12aeb/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/559964/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/pages/a26457/" class="nav-link">Kafka</a></li><li class="dropdown-item"><!----> <a href="/pages/77ea28/" class="nav-link">Consul</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算广告" class="dropdown-title"><a href="/ad/" class="link-title">计算广告</a> <span class="title" style="display:none;">计算广告</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/5cde28/" class="nav-link">投放策略</a></li><li class="dropdown-item"><!----> <a href="/pages/662467/" class="nav-link">召回技术</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/basics/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/512063/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/pages/28f1a1/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/pages/29b434/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><a href="/more/" class="nav-link">更多</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <a href="https://github.com/erlangtui/my-blogs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/logo.png"> <div class="blogger-info"><h3>二郎腿</h3> <span>好记性不如烂笔头</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><a href="/lang/" class="link-title">语言</a> <span class="title" style="display:none;">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/a164c7/" class="nav-link">Go</a></li><li class="dropdown-item"><!----> <a href="/pages/eda4d8/" class="nav-link">C++</a></li><li class="dropdown-item"><!----> <a href="/pages/a829c6/" class="nav-link">Python</a></li><li class="dropdown-item"><!----> <a href="/pages/e7ba23/" class="nav-link">Shell</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端技术" class="dropdown-title"><a href="/technology/" class="link-title">后端技术</a> <span class="title" style="display:none;">后端技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/1dfdd1/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Linux</a></li><li class="dropdown-item"><!----> <a href="/pages/bc1d83/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/pages/d12aeb/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/559964/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/pages/a26457/" class="nav-link">Kafka</a></li><li class="dropdown-item"><!----> <a href="/pages/77ea28/" class="nav-link">Consul</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算广告" class="dropdown-title"><a href="/ad/" class="link-title">计算广告</a> <span class="title" style="display:none;">计算广告</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/5cde28/" class="nav-link">投放策略</a></li><li class="dropdown-item"><!----> <a href="/pages/662467/" class="nav-link">召回技术</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/basics/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/512063/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/pages/28f1a1/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/pages/29b434/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><a href="/more/" class="nav-link">更多</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <a href="https://github.com/erlangtui/my-blogs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1dfdd1/" aria-current="page" class="active sidebar-link">Linux不常用但重要的命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/1dfdd1/#一、磁盘相关" class="sidebar-link">一、磁盘相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfdd1/#_1-df" class="sidebar-link">1，df</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfdd1/#_2-du" class="sidebar-link">2，du</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfdd1/#_3-iostat" class="sidebar-link">3，iostat</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfdd1/#二、内存相关" class="sidebar-link">二、内存相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfdd1/#_1-free" class="sidebar-link">1，free</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfdd1/#_2-vmstat" class="sidebar-link">2，vmstat</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfdd1/#三、网络相关" class="sidebar-link">三、网络相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfdd1/#_1-netstat" class="sidebar-link">1，netstat</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfdd1/#_2-ss" class="sidebar-link">2，ss</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfdd1/#_3-tcpdump" class="sidebar-link">3，tcpdump</a></li><li class="sidebar-sub-header level4"><a href="/pages/1dfdd1/#a-常用选项" class="sidebar-link">a) 常用选项</a></li><li class="sidebar-sub-header level4"><a href="/pages/1dfdd1/#b-使用示例" class="sidebar-link">b) 使用示例</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfdd1/#_4-route" class="sidebar-link">4，route</a></li><li class="sidebar-sub-header level4"><a href="/pages/1dfdd1/#a-选项" class="sidebar-link">a）选项</a></li><li class="sidebar-sub-header level4"><a href="/pages/1dfdd1/#b-参数" class="sidebar-link">b）参数</a></li><li class="sidebar-sub-header level4"><a href="/pages/1dfdd1/#c-示例" class="sidebar-link">c）示例</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfdd1/#四、cpu相关" class="sidebar-link">四、CPU相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfdd1/#_1-top" class="sidebar-link">1，top</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfdd1/#_2-lscpu" class="sidebar-link">2，lscpu</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfdd1/#_3-mpcpu" class="sidebar-link">3，mpcpu</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfdd1/#五、进程相关" class="sidebar-link">五、进程相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfdd1/#_1-pstack" class="sidebar-link">1，pstack</a></li></ul></li></ul></li><li><a href="/pages/154209/" class="sidebar-link">流量复制技术-tcpcopy</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MySql</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Kafka</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Consul</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Hive</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/technology/#后端技术" data-v-06970110>后端技术</a></li><li data-v-06970110><a href="/technology/#Linux" data-v-06970110>Linux</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="https://github.com/erlangtui" target="_blank" title="作者" class="beLink" data-v-06970110>erlangtui</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2023-07-15</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Linux不常用但重要的命令<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="一、磁盘相关"><a href="#一、磁盘相关" class="header-anchor">#</a> 一、磁盘相关</h2> <h3 id="_1-df"><a href="#_1-df" class="header-anchor">#</a> 1，df</h3> <ul><li>df: display free disk space；</li> <li>主要用于展示剩余磁盘空间，以及inode信息；</li> <li>示例：<details class="custom-block details"><summary>点击查看</summary> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">df</span> <span class="token parameter variable">-h</span>
<span class="token comment"># 查看磁盘剩余空间信息，以“Human-readable”的方式输出</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></details></li></ul> <h3 id="_2-du"><a href="#_2-du" class="header-anchor">#</a> 2，du</h3> <ul><li>du: display disk usage statistics</li> <li>主要用于展示磁盘使用信息统计；</li> <li>示例：<details class="custom-block details"><summary>点击查看</summary> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">du</span> <span class="token parameter variable">-hs</span> */ <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-hr</span>
<span class="token comment"># 当某个磁盘快满时，可以用 `df -h`查看将满目录，再对该目录使用该命令；</span>
<span class="token comment"># -h 选项将大小以易读的方式显示，-s 选项将目录总大小摘要显示，*/ 表示对当前目录下的所有一级子目录执行 du 命令；</span>
<span class="token comment"># sort 命令用于对输入进行排序，-h 选项将根据人类可读的数字进行排序（例如：1K、1M、1G），-r 选项表示按照逆序（从大到小）排序；</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></details></li></ul> <h3 id="_3-iostat"><a href="#_3-iostat" class="header-anchor">#</a> 3，iostat</h3> <ul><li><p>iostat: Report Central Processing Unit (CPU) statistics and input/output statistics for devices and partitions</p></li> <li><p>主要展示CPU和磁盘的IO信息；</p></li> <li><p>示例：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>iostat
<span class="token comment"># -c 仅显示CPU信息；</span>
<span class="token comment"># -d 仅显示磁盘信息；</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><details class="custom-block details"><summary>点击查看</summary> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Linux <span class="token number">3.10</span>.0-514.el7.x86_64 <span class="token punctuation">(</span>nvm-8k7ryr28yp0<span class="token punctuation">)</span> 	07/15/2023 	_x86_64_	<span class="token punctuation">(</span><span class="token number">8</span> CPU<span class="token punctuation">)</span>

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
        <span class="token number">16.41</span>    <span class="token number">0.10</span>    <span class="token number">6.45</span>    <span class="token number">0.33</span>    <span class="token number">0.02</span>   <span class="token number">76.69</span>

Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn
vda              <span class="token number">10.43</span>       <span class="token number">632.41</span>        <span class="token number">66.70</span> <span class="token number">31104268877</span> <span class="token number">3280613157</span>
vdb              <span class="token number">53.25</span>       <span class="token number">577.45</span>      <span class="token number">1774.53</span> <span class="token number">28401248851</span> <span class="token number">87277938011</span>
scd0              <span class="token number">0.00</span>         <span class="token number">0.00</span>         <span class="token number">0.00</span>        <span class="token number">374</span>          <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></details></li></ul> <h2 id="二、内存相关"><a href="#二、内存相关" class="header-anchor">#</a> 二、内存相关</h2> <h3 id="_1-free"><a href="#_1-free" class="header-anchor">#</a> 1，free</h3> <ul><li>free: Display amount of free and used memory in the system;</li> <li>显示当前系统未使用的和已使用的内存信息，以及被内核使用的内存缓冲区信息；</li> <li>存储其信息的文件为 /proc/meminfo ；<div class="language-sh line-numbers-mode"><pre class="language-sh"><code>-h：以易读的方式展示；
-l：显示详细的低内存和高内存的统计信息；
-t：显示内存和交换区的和；
<span class="token parameter variable">-s</span> N：间隔 N 秒显示一次；
<span class="token parameter variable">-c</span> N：连续显示 N 次然后停止；
-w：以宽列模式显示；
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li>示例：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">free</span> <span class="token parameter variable">-hltw</span> <span class="token comment"># 输出信息如下；</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>点击查看</summary> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>            total        used        <span class="token function">free</span>      shared     buffers       cache   available
Mem:            62G         36G         17G        <span class="token number">3</span>.2G         38M        <span class="token number">8</span>.5G         22G
Low:            62G         45G         17G
High:            0B          0B          0B
Swap:            0B          0B          0B
Total:          62G         36G         17G
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></details></li></ul> <h3 id="_2-vmstat"><a href="#_2-vmstat" class="header-anchor">#</a> 2，vmstat</h3> <ul><li>vmstat: Report virtual memory statistics</li> <li>报告虚拟内存统计信息，还可以报告关于进程、内存、I/O等系统整体运行状态；</li> <li>存储其信息的文件为：/proc/meminfo、/proc/stat、/proc/*/stat；</li> <li>相比于 free 能够显示更详细的信息；</li> <li>常用参数如下：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code>-a：显示活动内页；
-f：显示启动后创建的进程总数；
-m：显示slab信息；
-n：头信息仅显示一次；
-s：以表格方式显示事件计数器和内存状态；
-d：报告磁盘状态；
-p：显示指定的硬盘分区状态；
-S：输出信息的单位；
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li>示例：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">vmstat</span> <span class="token parameter variable">-s</span> <span class="token comment"># 输出信息如下；</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>点击查看</summary> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>    <span class="token number">65809540</span> K total memory
    <span class="token number">38647692</span> K used memory
    <span class="token number">42190488</span> K active memory
    <span class="token number">1828372</span> K inactive memory
    <span class="token number">18432028</span> K <span class="token function">free</span> memory
        <span class="token number">38744</span> K buffer memory
    <span class="token number">8691076</span> K swap cache
            <span class="token number">0</span> K total swap
            <span class="token number">0</span> K used swap
            <span class="token number">0</span> K <span class="token function">free</span> swap
<span class="token number">5901560943</span> non-nice user cpu ticks
    <span class="token number">37396419</span> <span class="token function">nice</span> user cpu ticks
<span class="token number">2223961253</span> system cpu ticks
<span class="token number">27581089290</span> idle cpu ticks
    <span class="token number">119053758</span> IO-wait cpu ticks
            <span class="token number">0</span> IRQ cpu ticks
    <span class="token number">96387358</span> softirq cpu ticks
    <span class="token number">6650201</span> stolen cpu ticks
<span class="token number">59498785798</span> pages paged <span class="token keyword">in</span>
<span class="token number">90483007168</span> pages paged out
            <span class="token number">0</span> pages swapped <span class="token keyword">in</span>
            <span class="token number">0</span> pages swapped out
    <span class="token number">366214001</span> interrupts
    <span class="token number">656409515</span> CPU context switches
<span class="token number">1640228379</span> boot <span class="token function">time</span>
<span class="token number">1414047112</span> forks
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div></details></li></ul> <h2 id="三、网络相关"><a href="#三、网络相关" class="header-anchor">#</a> 三、网络相关</h2> <h3 id="_1-netstat"><a href="#_1-netstat" class="header-anchor">#</a> 1，netstat</h3> <ul><li>netstat: Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships</li> <li>查看系统的网络的状态信息；</li> <li>常用参数：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code>重要且常用：-n, -l, -t, -u；

-a, <span class="token parameter variable">--all</span>                        显示所有连线中的Socket；
-A<span class="token operator">&lt;</span>net-type<span class="token operator">&gt;</span>, --<span class="token operator">&lt;</span>net-type<span class="token operator">&gt;</span>       列出该网络类型连线中的相关地址；
-c, <span class="token parameter variable">--continuous</span>                 持续列出网络状态；
-C, --cache：                    显示路由器配置的快取信息；
-i, --interfaces：               显示网络界面信息表单；
-l, --listening：                显示监控中的服务器的Socket；
-n, --numeric：                  直接使用ip地址，而不通过域名服务器；
-s, --statistice：               显示网络工作信息统计表；
-t, --tcp：                      显示TCP传输协议的连线状况；
-u, --udp：                      显示UDP传输协议的连线状况；
-v, --verbose：                  显示指令执行过程；
-V, --version：                  显示版本信息；
-w, --raw：                      显示RAW传输协议的连线状况；
-x, --unix：                     此参数的效果和指定<span class="token string">&quot;-A unix&quot;</span>参数相同；
--ip, --inet：                   此参数的效果和指定<span class="token string">&quot;-A inet&quot;</span>参数相同。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li></ul> <h3 id="_2-ss"><a href="#_2-ss" class="header-anchor">#</a> 2，ss</h3> <ul><li>用来显示处于活动状态的套接字信息；</li> <li>常用参数：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code>重要且常用：-n, -l, -t, -u, -4；

-n, <span class="token parameter variable">--numeric</span>       不解析服务名称
-r, <span class="token parameter variable">--resolve</span>       解析主机名
-a, <span class="token parameter variable">--all</span>           显示所有套接字（sockets）
-l, <span class="token parameter variable">--listening</span>     显示监听状态的套接字（sockets）
-e, <span class="token parameter variable">--extended</span>      显示详细的套接字（sockets）信息
-m, <span class="token parameter variable">--memory</span>        显示套接字（socket）的内存使用情况
-p, <span class="token parameter variable">--processes</span>     显示使用套接字（socket）的进程
-i, <span class="token parameter variable">--info</span>          显示 TCP内部信息
-s, <span class="token parameter variable">--summary</span>       显示套接字（socket）使用概况
-4, <span class="token parameter variable">--ipv4</span>          仅显示IPv4的套接字（sockets）
-6, <span class="token parameter variable">--ipv6</span>          仅显示IPv6的套接字（sockets）
-t, <span class="token parameter variable">--tcp</span>           仅显示 TCP套接字（sockets）
-u, <span class="token parameter variable">--udp</span>           仅显示 UCP套接字（sockets）
-d, <span class="token parameter variable">--dccp</span>          仅显示 DCCP套接字（sockets）
-w, <span class="token parameter variable">--raw</span>           仅显示 RAW套接字（sockets）
-x, <span class="token parameter variable">--unix</span>          仅显示 Unix套接字（sockets）
-f, <span class="token parameter variable">--family</span><span class="token operator">=</span>FAMILY  显示 FAMILY类型的套接字（sockets），FAMILY可选，支持  unix, inet, inet6, link, netlink
-A, <span class="token parameter variable">--query</span><span class="token operator">=</span>QUERY, <span class="token parameter variable">--socket</span><span class="token operator">=</span>QUERY，QUERY :<span class="token operator">=</span> <span class="token punctuation">{</span>all<span class="token operator">|</span>inet<span class="token operator">|</span>tcp<span class="token operator">|</span>udp<span class="token operator">|</span>raw<span class="token operator">|</span>unix<span class="token operator">|</span>packet<span class="token operator">|</span>netlink<span class="token punctuation">}</span><span class="token punctuation">[</span>,QUERY<span class="token punctuation">]</span>
-D, <span class="token parameter variable">--diag</span><span class="token operator">=</span>FILE     将原始TCP套接字（sockets）信息转储到文件
-F, <span class="token parameter variable">--filter</span><span class="token operator">=</span>FILE  从文件中都去过滤器信息，FILTER :<span class="token operator">=</span> <span class="token punctuation">[</span> state TCP-STATE <span class="token punctuation">]</span> <span class="token punctuation">[</span> EXPRESSION <span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li></ul> <h3 id="_3-tcpdump"><a href="#_3-tcpdump" class="header-anchor">#</a> 3，tcpdump</h3> <ul><li>tcpdump命令是一款抓包嗅探器工具，可以打印所有经过<span style="color:red;"><strong>网络接口的数据包头信息</strong></span>;</li></ul> <h4 id="a-常用选项"><a href="#a-常用选项" class="header-anchor">#</a> a) 常用选项</h4> <table><thead><tr><th>选项</th> <th>含义</th></tr></thead> <tbody><tr><td>-a</td> <td>尝试将网络和广播地址转换成名称；</td></tr> <tr><td>-c nu</td> <td>收到<strong>指定的数据包数目</strong>后，就停止进行倾倒操作；</td></tr> <tr><td>-d</td> <td>把编译过的数据包编码转换成可阅读的格式，并倾倒到标准输出；</td></tr> <tr><td>-dd</td> <td>把编译过的数据包编码转换成C语言的格式，并倾倒到标准输出；</td></tr> <tr><td>-ddd</td> <td>把编译过的数据包编码转换成十进制数字的格式，并倾倒到标准输出；</td></tr> <tr><td>-e</td> <td>在每列倾倒资料上显示连接层级的文件头；</td></tr> <tr><td>-f</td> <td>用数字显示网际网络地址；</td></tr> <tr><td>-F file</td> <td>指定内含表达方式的文件；</td></tr> <tr><td>-i iterface</td> <td><strong>使用指定的网络截面送出数据包；</strong></td></tr> <tr><td>-l</td> <td>使用标准输出列的缓冲区；</td></tr> <tr><td>-n</td> <td><strong>不把主机的网络地址转换成名字</strong>；</td></tr> <tr><td>-N</td> <td>不列出域名；</td></tr> <tr><td>-r file</td> <td>从指定的文件读取数据包数据；</td></tr> <tr><td>-s size</td> <td>设置每个数据包的大小；</td></tr> <tr><td>-t</td> <td>在每列倾倒资料上不显示时间戳记；</td></tr> <tr><td>-tt</td> <td>在每列倾倒资料上显示未经格式化的时间戳记；</td></tr> <tr><td>-v</td> <td>详细显示指令执行过程；</td></tr> <tr><td>-vv</td> <td>更详细显示指令执行过程；</td></tr> <tr><td>-x</td> <td>用十六进制字码列出数据包资料；</td></tr> <tr><td>-w file</td> <td><strong>把数据包数据写入指定的文件，可以后续用 wireshark 分析</strong></td></tr></tbody></table> <h4 id="b-使用示例"><a href="#b-使用示例" class="header-anchor">#</a> b) 使用示例</h4> <details class="custom-block details"><summary>点击查看</summary> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 直接启动tcpdump将监视第一个网络接口上所有流过的数据包</span>
tcpdump

<span class="token comment"># 监视指定网络接口的数据包，如果不指定网卡，默认tcpdump只会监视第一个网络接口，一般是eth0</span>
tcpdump <span class="token parameter variable">-i</span> eth1

<span class="token comment"># 监视指定主机的数据包，打印所有进入或离开sundown的数据包。</span>
tcpdump <span class="token function">host</span> sundown

<span class="token comment"># 也可以指定ip,例如截获所有210.27.48.1 的主机收到的和发出的所有的数据包</span>
tcpdump <span class="token function">host</span> <span class="token number">210.27</span>.48.1

<span class="token comment"># 打印helios 与 hot 或者与 ace 之间通信的数据包</span>
tcpdump <span class="token function">host</span> helios and <span class="token punctuation">\</span><span class="token punctuation">(</span> hot or ace <span class="token punctuation">\</span><span class="token punctuation">)</span>

<span class="token comment"># 截获主机210.27.48.1 和主机210.27.48.2 或210.27.48.3的通信</span>
tcpdump <span class="token function">host</span> <span class="token number">210.27</span>.48.1 and <span class="token punctuation">\</span> <span class="token punctuation">(</span><span class="token number">210.27</span>.48.2 or <span class="token number">210.27</span>.48.3 <span class="token punctuation">\</span><span class="token punctuation">)</span>

<span class="token comment"># 打印ace与任何其他主机之间通信的IP 数据包, 但不包括与helios之间的数据包.</span>
tcpdump <span class="token function">ip</span> <span class="token function">host</span> ace and not helios

<span class="token comment"># 如果想要获取主机210.27.48.1除了和主机210.27.48.2之外所有主机通信的ip包，使用命令：</span>
tcpdump <span class="token function">ip</span> <span class="token function">host</span> <span class="token number">210.27</span>.48.1 and <span class="token operator">!</span> <span class="token number">210.27</span>.48.2

<span class="token comment"># 截获主机hostname发送的所有数据</span>
tcpdump <span class="token parameter variable">-i</span> eth0 src <span class="token function">host</span> <span class="token function">hostname</span>

<span class="token comment"># 监视所有送到主机hostname的数据包</span>
tcpdump <span class="token parameter variable">-i</span> eth0 dst <span class="token function">host</span> <span class="token function">hostname</span>

<span class="token comment"># 监视指定主机和端口的数据包</span>
<span class="token comment"># 如果想要获取主机210.27.48.1接收或发出的telnet包，使用如下命令</span>
tcpdump tcp port <span class="token number">23</span> <span class="token function">host</span> <span class="token number">210.27</span>.48.1

<span class="token comment"># 对本机的udp 123 端口进行监视 123 为ntp的服务端口</span>
tcpdump udp port <span class="token number">123</span>

<span class="token comment"># 监视指定网络的数据包</span>
<span class="token comment"># 打印本地主机与Berkeley网络上的主机之间的所有通信数据包</span>
tcpdump net ucb-ether

<span class="token comment"># 打印所有通过网关snup的ftp数据包</span>
<span class="token comment"># 注意：表达式被单引号括起来了，这可以防止shell对其中的括号进行错误解析</span>
tcpdump <span class="token string">'gateway snup and (port ftp or ftp-data)'</span>

<span class="token comment"># 打印所有源地址或目标地址是本地主机的IP数据包</span>
tcpdump <span class="token function">ip</span> and not net localnet

<span class="token comment"># 抓取80端口的HTTP报文，以文本形式展示：</span>
tcpdump <span class="token parameter variable">-i</span> any port <span class="token number">80</span> <span class="token parameter variable">-A</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div></details> <h3 id="_4-route"><a href="#_4-route" class="header-anchor">#</a> 4，route</h3> <ul><li>route命令用来显示并设置Linux内核中的<strong>网络路由表</strong>，route命令设置的路由主要是静态路由；</li> <li>要实现两个不同的子网之间的通信，需要一台连接两个网络的路由器，或者同时位于两个网络的网关来实现；</li> <li>一个局域网中能够让机器访问Internet，那么就需要将这台机器的ip地址设置为Linux机器的默认路由；</li> <li>在命令行下执行route命令来添加路由，不会永久保存，当网卡重启或者机器重启之后，该路由就失效了；</li> <li>可以在 <code>/etc/rc.local</code> 中添加route命令来保证该路由设置永久有效；</li> <li><code>route(选项)(参数)</code>；</li></ul> <h4 id="a-选项"><a href="#a-选项" class="header-anchor">#</a> a）选项</h4> <table><thead><tr><th>选项</th> <th>含义</th></tr></thead> <tbody><tr><td>-C</td> <td>打印将Linux核心的路由缓存；</td></tr> <tr><td>-v</td> <td>详细信息模式；</td></tr> <tr><td>-n</td> <td>直接显示数字形式的IP地址；</td></tr> <tr><td>-e</td> <td>显示拓展信息；</td></tr> <tr><td>-net</td> <td>到一个网络的路由表；</td></tr> <tr><td>-host</td> <td>到一个主机的路由表。</td></tr></tbody></table> <h4 id="b-参数"><a href="#b-参数" class="header-anchor">#</a> b）参数</h4> <p>add     |   增加指定的路由记录；
sel     |   删除指定的路由记录；
target  |   目的网络或目的主机；
gw      |   设置默认网关；
mss     |   设置TCP的最大区块长度（MSS），单位MB；
window  |   指定通过路由表的TCP连接的TCP窗口大小；
dev     |   路由记录所表示的网络接口。</p> <h4 id="c-示例"><a href="#c-示例" class="header-anchor">#</a> c）示例</h4> <details class="custom-block details"><summary>点击查看</summary> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># route -n</span>
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
<span class="token number">112.124</span>.12.0    <span class="token number">0.0</span>.0.0         <span class="token number">255.255</span>.252.0   U     <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> eth1
<span class="token number">10.160</span>.0.0      <span class="token number">0.0</span>.0.0         <span class="token number">255.255</span>.240.0   U     <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> eth0
<span class="token number">192.168</span>.0.0     <span class="token number">10.160</span>.15.247   <span class="token number">255.255</span>.0.0     UG    <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> eth0
<span class="token number">172.16</span>.0.0      <span class="token number">10.160</span>.15.247   <span class="token number">255.240</span>.0.0     UG    <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> eth0
<span class="token number">10.0</span>.0.0        <span class="token number">10.160</span>.15.247   <span class="token number">255.0</span>.0.0       UG    <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> eth0
<span class="token number">0.0</span>.0.0         <span class="token number">112.124</span>.15.247  <span class="token number">0.0</span>.0.0         UG    <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> eth1

<span class="token comment"># 其中Flags为路由标志，标记当前网络节点的状态，Flags标志说明：</span>
<span class="token comment"># U Up表示此路由当前为启动状态。</span>
<span class="token comment"># H Host，表示此网关为一主机。</span>
<span class="token comment"># G Gateway，表示此网关为一路由器。</span>
<span class="token comment"># R Reinstate Route，使用动态路由重新初始化的路由。</span>
<span class="token comment"># D Dynamically,此路由是动态性地写入。</span>
<span class="token comment"># M Modified，此路由是由路由守护程序或导向器动态修改。</span>
<span class="token comment"># ! 表示此路由当前为关闭状态。</span>

<span class="token comment"># 添加网关/设置网关：</span>
route <span class="token function">add</span> <span class="token parameter variable">-net</span> <span class="token number">224.0</span>.0.0 netmask <span class="token number">240.0</span>.0.0 dev eth0    <span class="token comment">#增加一条到达244.0.0.0的路由。</span>

<span class="token comment"># 屏蔽一条路由：</span>
route <span class="token function">add</span> <span class="token parameter variable">-net</span> <span class="token number">224.0</span>.0.0 netmask <span class="token number">240.0</span>.0.0 reject     <span class="token comment">#增加一条屏蔽的路由，目的地址为224.x.x.x将被拒绝。</span>
<span class="token comment"># 删除路由记录：</span>
route del <span class="token parameter variable">-net</span> <span class="token number">224.0</span>.0.0 netmask <span class="token number">240.0</span>.0.0
route del <span class="token parameter variable">-net</span> <span class="token number">224.0</span>.0.0 netmask <span class="token number">240.0</span>.0.0 reject

<span class="token comment"># 删除和添加设置默认网关：</span>
route del default gw <span class="token number">192.168</span>.120.240
route <span class="token function">add</span> default gw <span class="token number">192.168</span>.120.240

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div></details> <h2 id="四、cpu相关"><a href="#四、cpu相关" class="header-anchor">#</a> 四、CPU相关</h2> <h3 id="_1-top"><a href="#_1-top" class="header-anchor">#</a> 1，top</h3> <ul><li>实时动态地查看系统的整体运行情况；</li> <li>并且可以通过交互命令在交互界面进行操作；</li> <li>选项命令如下：<details class="custom-block details"><summary>点击查看</summary> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>重要且常用：-p, -c；

-b：以批处理模式操作；
-c：显示完整的命令；
-d：屏幕刷新间隔时间；
-I：忽略失效过程；
-s：保密模式；
-S：累积模式；
-i<span class="token operator">&lt;</span>时间<span class="token operator">&gt;</span>：设置间隔时间；
-u<span class="token operator">&lt;</span>用户名<span class="token operator">&gt;</span>：指定用户名；
-p<span class="token operator">&lt;</span>进程号<span class="token operator">&gt;</span>：指定进程；
-n<span class="token operator">&lt;</span>次数<span class="token operator">&gt;</span>：循环显示的次数。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></details></li> <li>交互命令如下：<details class="custom-block details"><summary>点击查看</summary> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>重要且常用：M, P, s, m, t, c, f；

h：显示帮助画面，给出一些简短的命令总结说明；
k：终止一个进程；
i：忽略闲置和僵死进程，这是一个开关式命令；
q：退出程序；
r：重新安排一个进程的优先级别；
S：切换到累计模式；
s/d：改变两次刷新之间的延迟时间（单位为s），如果有小数，就换算成ms。输入0值则系统将不断刷新，默认值是5s；
f/F：进入显示列的选择页面，d 命令选择或删除显示制定列；
l：切换显示模式，平均负载和启动时间信息；
m：切换显示模式，内存信息；
t：切换显示模式，进程和CPU状态信息；
c：切换显示模式，命令名称和完整命令行；
M：根据驻留内存大小进行排序；
P：根据CPU使用百分比大小进行排序；
T：根据时间/累计时间进行排序；
w：将当前设置写入~/.toprc文件中。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></details></li></ul> <h3 id="_2-lscpu"><a href="#_2-lscpu" class="header-anchor">#</a> 2，lscpu</h3> <ul><li>显示有关CPU架构的信息；</li> <li>示例信息：<details class="custom-block details"><summary>点击查看</summary> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Architecture:          x86_64
CPU op-mode<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:        <span class="token number">32</span>-bit, <span class="token number">64</span>-bit
Byte Order:            Little Endian
CPU<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:                <span class="token number">8</span>
On-line CPU<span class="token punctuation">(</span>s<span class="token punctuation">)</span> list:   <span class="token number">0</span>-7
Thread<span class="token punctuation">(</span>s<span class="token punctuation">)</span> per core:    <span class="token number">2</span>
Core<span class="token punctuation">(</span>s<span class="token punctuation">)</span> per socket:    <span class="token number">4</span>
Socket<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:             <span class="token number">1</span>
NUMA node<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:          <span class="token number">1</span>
Vendor ID:             GenuineIntel
CPU family:            <span class="token number">6</span>
Model:                 <span class="token number">85</span>
Model name:            Intel<span class="token punctuation">(</span>R<span class="token punctuation">)</span> Xeon<span class="token punctuation">(</span>R<span class="token punctuation">)</span> Gold 6240R CPU @ <span class="token number">2</span>.40GHz
Stepping:              <span class="token number">7</span>
CPU MHz:               <span class="token number">2399.998</span>
BogoMIPS:              <span class="token number">4799.99</span>
Virtualization:        VT-x
Hypervisor vendor:     KVM
Virtualization type:   full
L1d cache:             32K
L1i cache:             32K
L2 cache:              1024K
L3 cache:              36608K
NUMA node0 CPU<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:     <span class="token number">0</span>-7
Flags:                 fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology eagerfpu pni pclmulqdq monitor vmx ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch arat tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid mpx avx512f avx512dq rdseed adx smap clflushopt clwb avx512cd avx512bw avx512vl xsaveopt xsavec xgetbv1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></details></li></ul> <h3 id="_3-mpcpu"><a href="#_3-mpcpu" class="header-anchor">#</a> 3，mpcpu</h3> <ul><li>多CPU环境下，显示各个可用CPU的状态信息</li> <li>存储其信息的文件为：/proc/stat；</li></ul> <h2 id="五、进程相关"><a href="#五、进程相关" class="header-anchor">#</a> 五、进程相关</h2> <h3 id="_1-pstack"><a href="#_1-pstack" class="header-anchor">#</a> 1，pstack</h3> <ul><li></li></ul></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=linux%E5%91%BD%E4%BB%A4" title="标签">#linux命令</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/08/26, 23:03:03</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/pages/154209/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">流量复制技术-tcpcopy</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/154209/">流量复制技术-tcpcopy</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/261bb9/"><div>
            go sync.Pool
            <!----></div></a> <span class="date">11-30</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/b07966/"><div>
            nginx
            <!----></div></a> <span class="date">11-22</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/77c0f9/"><div>
            go sync atomic
            <!----></div></a> <span class="date">11-18</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:1364255742@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/erlangtui" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=1364255742&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" class="iconfont icon-QQ"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2023
    <span>| 版权归 erlangtui 所有 | <a href="https://beian.miit.gov.cn" target="_blank">京ICP备2023035240</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.c539c36f.js" defer></script><script src="/assets/js/2.9e820baa.js" defer></script><script src="/assets/js/3.4ca38539.js" defer></script><script src="/assets/js/37.10025952.js" defer></script>
  </body>
</html>
