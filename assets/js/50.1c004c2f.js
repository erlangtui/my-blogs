(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{379:function(t,r,e){"use strict";e.r(r);var a=e(4),s=Object(a.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h2",{attrs:{id:"http-1-0"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#http-1-0"}},[t._v("#")]),t._v(" HTTP/1.0")]),t._v(" "),r("h3",{attrs:{id:"å­˜åœ¨çš„é—®é¢˜"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å­˜åœ¨çš„é—®é¢˜"}},[t._v("#")]),t._v(" å­˜åœ¨çš„é—®é¢˜")]),t._v(" "),r("ol",[r("li",[t._v("é»˜è®¤ä¸ºçŸ­è¿æ¥ï¼Œè¿æ¥æ— æ³•å¤ç”¨ï¼Œç½‘é¡µä¸­çš„æ¯ä¸ªèµ„æºéƒ½ä¼šå‘èµ·æ–°çš„ TCP è¿æ¥")]),t._v(" "),r("li",[t._v("é˜Ÿåˆ—å¤´éƒ¨è¯·æ±‚é˜»å¡ (head of line blocking), ä¸€ä¸ª HTTP è¯·æ±‚å“åº”ç»“æŸä¹‹åï¼Œæ‰èƒ½å‘èµ·ä¸‹ä¸€ä¸ª HTTP è¯·æ±‚ (å¦‚æœæ²¡æœ‰æŸä¸ªç‰¹åˆ«æ…¢çš„è¯·æ±‚ï¼Œå°±å¡é¡¿äº† â€¦)")]),t._v(" "),r("li",[t._v("ä¸æ”¯æŒèŒƒå›´æ•°æ®è¯·æ±‚ï¼Œå³ä½¿åªæ˜¯éœ€è¦æŸä¸ªèµ„æºçš„ä¸€éƒ¨åˆ†å†…å®¹ (ä¾‹å¦‚è§†é¢‘çš„æŸä¸€æ®µå¸§)ï¼Œä¹Ÿä¼šå°†æ•´ä¸ªèµ„æºå‘é€è¿‡æ¥")])]),t._v(" "),r("p",[t._v("è¿™å‡ ä¸ªé—®é¢˜å·²ç»å…¨éƒ¨æ¶ˆå¤±åœ¨å†å²é•¿æ²³ä¸­äº†ï¼Œè¿™é‡Œç®€å•å›é¡¾ä¸‹ï¼Œä¸åšè¯¦ç»†ä»‹ç»äº†ã€‚")]),t._v(" "),r("h2",{attrs:{id:"http-1-1"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#http-1-1"}},[t._v("#")]),t._v(" HTTP/1.1")]),t._v(" "),r("p",[t._v("é¦–å…ˆå¢åŠ äº†ä»¥ä¸‹ç‰¹æ€§è§£å†³äº† HTTP/1.0 å­˜åœ¨çš„é—®é¢˜:")]),t._v(" "),r("ul",[r("li",[t._v("é»˜è®¤å¯ç”¨é•¿è¿æ¥")]),t._v(" "),r("li",[t._v("æ”¯æŒåŒæ—¶æ‰“å¼€å¤šä¸ª TCP è¿æ¥ï¼Œé‡‡ç”¨ Pipeline è¯·æ±‚æ–¹å¼ï¼Œå¤šä¸ªè¯·æ±‚å¯ä»¥é€šè¿‡å¤šä¸ªè¿æ¥ä¸²è¡ŒåŒ–è¯·æ±‚")]),t._v(" "),r("li",[t._v("æ”¯æŒèµ„æºåˆ†å—èŒƒå›´æ•°æ®ä¼ è¾“")])]),t._v(" "),r("p",[t._v("æ­¤å¤–ï¼Œè¿˜æ–°å¢äº†ä»¥ä¸‹æ–°ç‰¹æ€§:")]),t._v(" "),r("ul",[r("li",[t._v("æ”¯æŒè™šæ‹Ÿä¸»æœº")]),t._v(" "),r("li",[t._v("æ–°å¢ Cache-Controlã€E-Tag, max-age ç¼“å­˜å¤„ç†æŒ‡ä»¤")]),t._v(" "),r("li",[t._v("æ–°å¢ PUTã€PATCHã€HEADã€OPTIONSã€DELETE è¯·æ±‚æ–¹æ³•")])]),t._v(" "),r("h3",{attrs:{id:"ä¾ç„¶å­˜åœ¨çš„é—®é¢˜"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ä¾ç„¶å­˜åœ¨çš„é—®é¢˜"}},[t._v("#")]),t._v(" ä¾ç„¶å­˜åœ¨çš„é—®é¢˜")]),t._v(" "),r("ul",[r("li",[t._v("è™½ç„¶ TCP è¿æ¥å¯ä»¥å¤ç”¨ï¼Œä½†æ˜¯æœåŠ¡ç«¯å“åº”åªèƒ½æŒ‰ç…§å®¢æˆ·ç«¯è¯·æ±‚é¡ºåºè¿”å›ï¼Œé˜Ÿåˆ—å¤´éƒ¨è¯·æ±‚é˜»å¡ (head of line blocking) å¹¶æ²¡æœ‰å®Œå…¨è§£å†³")]),t._v(" "),r("li",[t._v("å®¢æˆ·ç«¯éœ€è¦ä½¿ç”¨å¤šä¸ªè¿æ¥æ‰èƒ½å®ç°å¹¶å‘å’Œç¼©çŸ­å»¶è¿Ÿ")]),t._v(" "),r("li",[t._v("æ— æ³•å‹ç¼©è¯·æ±‚å’Œå“åº”å¤´éƒ¨ï¼Œå¯¼è‡´ä¸å¿…è¦çš„æ•°æ®ä¼ è¾“æµé‡")]),t._v(" "),r("li",[t._v("ä¸æ”¯æŒæœ‰æ•ˆçš„èµ„æºä¼˜å…ˆçº§ï¼Œå¯¼è‡´ TCP è¿æ¥çš„åˆ©ç”¨ç‡ä½")])]),t._v(" "),r("h2",{attrs:{id:"http-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#http-2"}},[t._v("#")]),t._v(" HTTP/2")]),t._v(" "),r("p",[r("strong",[t._v("HTTP/1 æ˜¯æ–‡æœ¬åè®®")]),t._v("ï¼Œå…¶ä¸­ Header å¤´ä¿¡æ¯æ˜¯æ–‡æœ¬æ•°æ®ï¼Œå†…å®¹ä½“æ•°æ®å¯ä»¥æ˜¯æ–‡æœ¬æ ¼å¼ï¼Œä¹Ÿå¯ä»¥æ˜¯äºŒè¿›åˆ¶æ ¼å¼ã€‚"),r("strong",[t._v("HTTP/2 æ˜¯äºŒè¿›åˆ¶åè®®")]),t._v("ï¼ŒHeader å¤´ä¿¡æ¯å’Œå†…å®¹ä½“æ•°æ®éƒ½æ˜¯äºŒè¿›åˆ¶çš„ã€‚")]),t._v(" "),r("h3",{attrs:{id:"äºŒè¿›åˆ¶åˆ†å¸§å±‚"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#äºŒè¿›åˆ¶åˆ†å¸§å±‚"}},[t._v("#")]),t._v(" äºŒè¿›åˆ¶åˆ†å¸§å±‚")]),t._v(" "),r("p",[t._v("HTTP/2 åœ¨ åº”ç”¨å±‚(HTTP/2)å’Œä¼ è¾“å±‚(TCP or UDP)ä¹‹é—´å¢åŠ ä¸€ä¸ªäºŒè¿›åˆ¶åˆ†å¸§å±‚ã€‚åœ¨ä¸æ”¹åŠ¨ HTTP/1.1 çš„è¯­ä¹‰ã€æ–¹æ³•ã€çŠ¶æ€ç ã€URI ä»¥åŠå¤´éƒ¨å­—æ®µçš„æƒ…å†µä¸‹, è§£å†³äº†HTTP1.1 çš„æ€§èƒ½é™åˆ¶ï¼Œæ”¹è¿›ä¼ è¾“æ€§èƒ½ï¼Œå®ç°ä½å»¶è¿Ÿå’Œé«˜ååé‡ã€‚")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http2_frame.jpg",alt:"å›¾ç‰‡æ¥æº: https://hpbn.co/http2/"}})]),t._v(" "),r("p",[t._v("HTTP/2 å°†ä¸€ä¸ª HTTP è¯·æ±‚åˆ’åˆ†ä¸º 3 ä¸ªéƒ¨åˆ†ï¼š")]),t._v(" "),r("ol",[r("li",[r("strong",[t._v("å¸§ (Frame)")]),t._v(" : ä¸€æ®µäºŒè¿›åˆ¶æ•°æ®ï¼Œæ˜¯ HTTP/2 ä¼ è¾“çš„æœ€å°å•ä½ï¼Œæ¯ä¸ªå¸§åŒ…å«ä¸€ä¸ªå¸§å¤´ï¼Œç”¨äºæ ‡è¯†è¯¥å¸§æ‰€å±çš„æµï¼Œæ¥è‡ªä¸åŒæ•°æ®æµçš„å¸§å¯ä»¥äº¤é”™å‘é€ï¼Œç„¶åå†æ ¹æ®æ¯ä¸ªå¸§å¤´çš„æ•°æ®æµæ ‡è¯†ç¬¦é‡æ–°ç»„è£…æ•°æ®")]),t._v(" "),r("li",[r("strong",[t._v("æ¶ˆæ¯ (Message)")]),t._v(" : å’Œè¯·æ±‚æˆ–å“åº”å¯¹åº”çš„å¤šä¸ªå¸§åºåˆ—")]),t._v(" "),r("li",[r("strong",[t._v("æµ (Stream)")]),t._v(" : å·²å»ºç«‹çš„è¿æ¥å†…çš„åŒå‘æ•°æ®å­—èŠ‚æµï¼Œå¯ä»¥æ‰¿è½½ä¸€æ¡æˆ–å¤šæ¡æ¶ˆæ¯ï¼Œæ¯ä¸ªæµéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦å’Œå¯é€‰çš„ä¼˜å…ˆçº§ä¿¡æ¯ï¼Œç”±å®¢æˆ·ç«¯å‘èµ·çš„æµå¿…é¡»ä½¿ç”¨å¥‡æ•°ç¼–å·ä½œä¸ºæ ‡è¯†ç¬¦ï¼›ç”±æœåŠ¡å™¨å‘èµ·çš„å¿…é¡»ä½¿ç”¨å¶æ•°ç¼–å·ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œæµæ ‡è¯†ç¬¦é›¶(0x0)ç”¨äºè¿æ¥æ§åˆ¶æ¶ˆæ¯")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http2_stream.png",alt:"å›¾ç‰‡æ¥æº: https://hpbn.co/http2/"}})]),t._v(" "),r("h3",{attrs:{id:"è¯·æ±‚-å“åº”-å¤šè·¯å¤ç”¨"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#è¯·æ±‚-å“åº”-å¤šè·¯å¤ç”¨"}},[t._v("#")]),t._v(" è¯·æ±‚/å“åº” å¤šè·¯å¤ç”¨")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http2_multiplexing.png",alt:"å›¾ç‰‡æ¥æº: https://blog.cloudflare.com/http-2-for-web-developers/"}})]),t._v(" "),r("blockquote",[r("p",[t._v("åœ¨æ•´ä¸ªé€šä¿¡è¿‡ç¨‹ä¸­ï¼Œåªä¼šæœ‰ä¸€ä¸ª TCP è¿æ¥å­˜åœ¨ï¼Œå®ƒæ‰¿è½½äº†ä»»æ„æ•°é‡çš„åŒå‘æ•°æ®æµ (Stream)ã€‚")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http2_conn.jpg",alt:"å›¾ç‰‡æ¥æº: https://hpbn.co/http2/"}})]),t._v(" "),r("p",[t._v("å¦‚å›¾æ‰€ç¤ºï¼Œå®¢æˆ·ç«¯æ­£åœ¨å‘æœåŠ¡ç«¯ä¼ è¾“ stream 5ï¼ŒæœåŠ¡ç«¯æ­£åœ¨å‘å®¢æˆ·ç«¯äº¤æ›¿ä¼ è¾“ stream 1 å’Œ stream 3, å› æ­¤å­˜åœ¨ 3 ä¸ªå¹¶è¡Œçš„æµ (3 ä¸ªæµä½äºåŒå‘çš„ä¸€æ¡ TCP è¿æ¥ä¸Šé¢)ã€‚")]),t._v(" "),r("p",[t._v("è¿™ç§å•è¿æ¥å¤šèµ„æºçš„æ–¹å¼ï¼Œå‡å°‘æœåŠ¡ç«¯çš„é“¾æ¥å‹åŠ› (ä¸»è¦æ˜¯æ¡æ‰‹å’Œå¼€å¯ HTTPS åçš„éªŒè¯), å†…å­˜å ç”¨æ›´å°‘ (è¿æ¥é˜Ÿåˆ—), è¿æ¥ååé‡æ›´å¤§ï¼›è€Œä¸”ç”±äº TCP è¿æ¥çš„å‡å°‘è€Œä½¿ç½‘ç»œæ‹¥å¡çŠ¶å†µå¾—ä»¥æ”¹å–„ (å‡å°‘ TCP ä¸‰æ¬¡æ¡æ‰‹ã€å¼€å¯ HTTPS åçš„ TLS æ¡æ‰‹)ï¼Œ åŒæ—¶æ…¢å¯åŠ¨æ—¶é—´çš„å‡å°‘,ä½¿æ‹¥å¡å’Œä¸¢åŒ…æ¢å¤é€Ÿåº¦æ›´å¿« (å› ä¸ºå½“å‘ç”Ÿä¸¢åŒ…æ—¶ï¼ŒTCPæ‹¥å¡çª—å£å¤§å°ä¼šå› ä¸ºæ‹¥å¡é¿å…æœºåˆ¶è€Œå‡å°ï¼Œä»è€Œé™ä½æ•´ä¸ªè¿æ¥çš„æœ€å¤§ååé‡)ã€‚")]),t._v(" "),r("p",[t._v("é€šè¿‡äºŒè¿›åˆ¶åˆ†å¸§å±‚ï¼Œå¯ä»¥è§£å†³ HTTP/1.1 ä¸­ä¾ç„¶å­˜åœ¨çš„ "),r("strong",[t._v("é˜Ÿåˆ—å¤´éƒ¨è¯·æ±‚é˜»å¡")]),t._v(" (head of line blocking) å’Œ "),r("strong",[t._v("å®¢æˆ·ç«¯éœ€è¦å¤šä¸ªè¿æ¥")]),t._v(" ä¸¤ä¸ªé—®é¢˜ã€‚")]),t._v(" "),r("blockquote",[r("p",[t._v("ğŸ’¡ è¯¥æ–¹æ¡ˆçš„æœ¬è´¨æ˜¯å¤šè·¯å¤ç”¨ï¼Œè¿™é‡Œçš„ã€Œå¤šè·¯ã€æŒ‡å¤šä¸ªèµ„æºè¯·æ±‚ï¼Œã€Œå¤ç”¨ã€æŒ‡åœ¨åŒä¸€ä¸ª TCP è¿æ¥ä¸Šä¼ è¾“ã€‚")])]),t._v(" "),r("p",[t._v("åœ¨ HTTP/1.1 åè®®ä¸­æµè§ˆå™¨å®¢æˆ·ç«¯åœ¨åŒä¸€æ—¶é—´ï¼Œé’ˆå¯¹åŒä¸€åŸŸåä¸‹çš„è¯·æ±‚æœ‰ä¸€å®šæ•°é‡é™åˆ¶ã€‚è¶…è¿‡é™åˆ¶æ•°ç›®çš„è¯·æ±‚ä¼šè¢«é˜»å¡ã€‚ è¿™ä¹Ÿæ˜¯ä¸ºä½•ä¸€äº›ç«™ç‚¹ä¼šæœ‰å¤šä¸ªé™æ€èµ„æº CDN åŸŸåçš„åŸå› ä¹‹ä¸€ï¼Œè€Œ HTTP/2 çš„å¤šè·¯å¤ç”¨(Multiplexing) åˆ™å…è®¸åŒæ—¶é€šè¿‡å•ä¸€çš„ HTTP/2 è¿æ¥å‘èµ·å¤šé‡çš„è¯·æ±‚-å“åº”æ¶ˆæ¯ã€‚ å› æ­¤ HTTP/2 å¯ä»¥å¾ˆå®¹æ˜“åœ°å»å®ç°å¤šæµå¹¶è¡Œè€Œä¸ç”¨ä¾èµ–å»ºç«‹å¤šä¸ª TCP è¿æ¥ï¼ŒHTTP/2 æŠŠ HTTP åè®®é€šä¿¡çš„åŸºæœ¬å•ä½ç¼©å°ä¸ºä¸€ä¸ªä¸€ä¸ªçš„å¸§ï¼Œè¿™äº›å¸§å¯¹åº”ç€é€»è¾‘æµä¸­çš„æ¶ˆæ¯ã€‚å¹¶è¡Œåœ°åœ¨åŒä¸€ä¸ª TCP è¿æ¥ä¸ŠåŒå‘äº¤æ¢æ¶ˆæ¯ã€‚")]),t._v(" "),r("h4",{attrs:{id:"ä¸ºä»€ä¹ˆåªæœ‰ä¸€ä¸ª-tcp-è¿æ¥"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆåªæœ‰ä¸€ä¸ª-tcp-è¿æ¥"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆåªæœ‰ä¸€ä¸ª TCP è¿æ¥ï¼Ÿ")]),t._v(" "),r("p",[t._v("åœ¨ HTTP/1.1 åè®®ä¸­æµè§ˆå™¨æ‰“å¼€å•ä¸ªåŸŸåç½‘ç«™å¯èƒ½ä¼šä½¿ç”¨å¤šä¸ªè¿æ¥ (å®ç°å¤šç«™ç‚¹ä¼ è¾“)ï¼Œç»“æœå°±æ˜¯å•ä¸ªç«™ç‚¹é¡µé¢åŠ è½½æ—¶ä¼šæ‰“å¼€æ•°åä¸ª TCP è¿æ¥ã€‚ ä¸€ä¸ªåº”ç”¨ç¨‹åºæ‰“å¼€å¦‚æ­¤å¤šçš„ TCP è¿æ¥ï¼Œè¿™å·²ç»è¿œè¿œè¶…å‡ºäº†æœ€åˆçš„ TCP è®¾è®¡ç†å¿µï¼Œè€Œä¸”ç”±äºæ¯ä¸ª TCP è¿æ¥éƒ½ä¼šå“åº”å¤§é‡çš„æ•°æ®ï¼Œä¼šå¢åŠ ç½‘ç»œç¼“å†²åŒºçš„æº¢å‡ºé£é™©ï¼Œå¯¼è‡´ç½‘ç»œæ‹¥å¡äº‹ä»¶å¹¶é‡æ–°å¼€å§‹æ•°æ®ä¼ è¾“ã€‚")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http2_129_1.png",alt:"å›¾ç‰‡æ¥æº: https://halfrost.com/http2_begin/"}})]),t._v(" "),r("h3",{attrs:{id:"è¯·æ±‚ä¼˜å…ˆçº§"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#è¯·æ±‚ä¼˜å…ˆçº§"}},[t._v("#")]),t._v(" è¯·æ±‚ä¼˜å…ˆçº§")]),t._v(" "),r("p",[t._v("å¤šä¸ª HTTP è¯·æ±‚åŒæ—¶å‘é€æ—¶ï¼Œä¼šäº§ç”Ÿå¤šä¸ªæ•°æ®æµï¼Œæ¯ä¸ªæ•°æ®æµä¸­æœ‰ä¸€ä¸ªä¼˜å…ˆçº§çš„æ ‡è¯†ï¼ŒæœåŠ¡å™¨ç«¯å¯ä»¥æ ¹æ®è¿™ä¸ªæ ‡è¯†æ¥å†³å®šå“åº”çš„ä¼˜å…ˆé¡ºåºã€‚")]),t._v(" "),r("ol",[r("li",[t._v("æ¯ä¸ªæ•°æ®æµå¯ä»¥åˆ†é…ä¸€ä¸ª 1 åˆ° 256 ä¹‹é—´çš„æ•´æ•°ä½œä¸ºå…¶æƒé‡å€¼")]),t._v(" "),r("li",[t._v("æ¯ä¸ªæ•°æ®æµå¯ä»¥è¢«æŒ‡å®šå¯¹å¦ä¸€ä¸ªæ•°æ®æµçš„æ˜¾å¼ä¾èµ–")])]),t._v(" "),r("p",[t._v("å¯¹äºæµè§ˆå™¨æ¥è¯´ï¼Œå¹¶éæ‰€æœ‰èµ„æºéƒ½æ‹¥æœ‰åŒæ ·çš„ä¼˜å…ˆçº§ (ä¾‹å¦‚å¤§å¤šæ•°æƒ…å†µä¸‹ HTML æ–‡ä»¶åº”è¯¥æ¯” CSS æ–‡ä»¶æ‹¥æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§)ï¼Œä¸ºäº†åŠ é€Ÿé¡µé¢è®¿é—®ï¼Œç°ä»£æµè§ˆå™¨éƒ½ä¼šæ ¹æ®èµ„æºçš„å…·ä½“ç±»å‹å’Œåœ¨é¡µé¢ä¸Šçš„ä½ç½®è¿›è¡Œä¼˜å…ˆçº§æ’åºï¼Œ ç”šè‡³ä¼šæ ¹æ®å†å²è®¿é—®å“åº”æ—¶é—´è®°å½•æ¥å­¦ä¹ ä¼˜å…ˆçº§ï¼Œä¾‹å¦‚æŸä¸ªèµ„æºåœ¨ä¹‹å‰è®¿é—®æ—¶è¢«é˜»å¡äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªèµ„æºåœ¨å°†æ¥çš„è®¿é—®ä¸­ä¼šè·å¾—æ›´å¥½çš„ä¼˜å…ˆçº§ã€‚")]),t._v(" "),r("p",[t._v("é€šè¿‡è®¾ç½®åˆç†çš„è¯·æ±‚ä¼˜å…ˆçº§ï¼Œå¯ä»¥æœ‰æ•ˆç¼“è§£ "),r("strong",[t._v("é˜Ÿåˆ—å¤´éƒ¨è¯·æ±‚é˜»å¡")]),t._v(" (head of line blocking) å’Œ "),r("strong",[t._v("TCP è¿æ¥çš„åˆ©ç”¨ç‡ä½")]),t._v(" ä¸¤ä¸ªé—®é¢˜ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨çš„ä¼˜å…ˆçº§æœºåˆ¶å·²ç»ä¼˜åŒ–çš„è¶³å¤Ÿå¥½ï¼Œæ— éœ€åœ¨ä»£ç å±‚é¢è®¾ç½®èµ„æºä¼˜å…ˆçº§ã€‚")]),t._v(" "),r("h3",{attrs:{id:"æœåŠ¡ç«¯æ¨é€"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç«¯æ¨é€"}},[t._v("#")]),t._v(" æœåŠ¡ç«¯æ¨é€")]),t._v(" "),r("p",[t._v("HTTP/2.0 åœ¨å®¢æˆ·ç«¯è¯·æ±‚ä¸€ä¸ªèµ„æºæ—¶ï¼Œä¼šæŠŠç›¸å…³çš„èµ„æºä¸€èµ·å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å°±ä¸éœ€è¦å†æ¬¡å‘èµ·è¯·æ±‚äº†ã€‚")]),t._v(" "),r("p",[t._v("ä¾‹å¦‚å®¢æˆ·ç«¯è¯·æ±‚ page.html é¡µé¢ï¼ŒæœåŠ¡ç«¯é¡ºå¸¦ç€å°±æŠŠ script.js å’Œ style.css ç­‰ç›¸å…³çš„èµ„æºä¸€èµ·å‘ç»™å®¢æˆ·ç«¯ã€‚")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http2_server_push.png",alt:"HTTP/2 Server Push"}})]),t._v(" "),r("p",[t._v("æ¨é€çš„èµ„æºæœ‰å¦‚ä¸‹ç‰¹ç‚¹:")]),t._v(" "),r("ul",[r("li",[t._v("å¯ä»¥è¢«å®¢æˆ·ç«¯ (ä¸€èˆ¬æŒ‡æµè§ˆå™¨) ç¼“å­˜")]),t._v(" "),r("li",[t._v("å¯ä»¥è¢«ä¸åŒçš„é¡µé¢è¿›è¡Œå¤ç”¨")]),t._v(" "),r("li",[t._v("å¯ä»¥è¢«æœåŠ¡ç«¯ç¡®å®šä¼˜å…ˆçº§")]),t._v(" "),r("li",[t._v("å®¢æˆ·ç«¯å®Œå…¨æ§åˆ¶æœåŠ¡ç«¯çš„æ¨é€è¡Œä¸º: é™åˆ¶å¹¶å‘æ¨é€æµçš„æ•°é‡ã€è°ƒæ•´åˆå§‹æµé‡æ§åˆ¶çª—å£ã€æ§åˆ¶æµé¦–æ¬¡æ‰“å¼€æ—¶æ¨é€çš„æ•°æ®é‡ã€æˆ–è€…å®Œå…¨ç¦ç”¨æœåŠ¡ç«¯æ¨é€ï¼Œè¿™äº›é¦–é€‰é¡¹åœ¨ HTTP/2 å»ºç«‹è¿æ¥æ—¶é€šè¿‡è®¾ç½®å¸§è¿›è¡Œä¼ é€’ï¼Œå¹¶ä¸”å¯ä»¥éšæ—¶æ›´æ–°")]),t._v(" "),r("li",[t._v("æ¯ä¸ªè¢«æ¨é€çš„èµ„æºéƒ½æ˜¯ä¸€ä¸ªæµï¼Œè¿™å…è®¸å®¢æˆ·ç«¯å•ç‹¬å¯¹å…¶è¿›è¡Œå¤šè·¯å¤ç”¨ã€ä¼˜å…ˆçº§æ’åºå’Œæ•°æ®å¤„ç†ï¼Œå½“ç„¶ï¼Œæ¨é€çš„èµ„æºå¿…é¡»éµå®ˆåŒæºç­–ç•¥")])]),t._v(" "),r("h4",{attrs:{id:"push-promise-å¸§"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#push-promise-å¸§"}},[t._v("#")]),t._v(" PUSH_PROMISE å¸§")]),t._v(" "),r("p",[t._v("æœåŠ¡ç«¯çš„æ‰€æœ‰æ¨é€éƒ½æ˜¯é€šè¿‡ PUSH_PROMISE å¸§å‘èµ·çš„ï¼Œå®ƒè¡¨ç¤ºæœåŠ¡ç«¯ä¼šå°†èµ„æºæ¨é€åˆ°å®¢æˆ·ç«¯ï¼Œå¹¶ä¸”å…è®¸æœåŠ¡ç«¯åœ¨å®¢æˆ·ç«¯è¯·æ±‚ä¹‹å‰å°±å‘é€ç›¸å…³èµ„æºç»™å®¢æˆ·ç«¯ã€‚ è¿™äº›èµ„æºå¯èƒ½æ˜¯å®¢æˆ·ç«¯æœªç›´æ¥è¯·æ±‚çš„ï¼Œä½†æœåŠ¡ç«¯è®¤ä¸ºå®¢æˆ·ç«¯å¯èƒ½ä¼šéœ€è¦çš„èµ„æºã€‚é€šè¿‡æ¨é€å¯ä»¥é¿å…å®¢æˆ·ç«¯å‘èµ·é¢å¤–çš„è¯·æ±‚æ¥è·å–è¿™äº›èµ„æºï¼Œä»è€ŒåŠ å¿«é¡µé¢åŠ è½½é€Ÿåº¦ã€‚ PUSH_PROMISE å¸§åŒ…å«äº†æ¨é€èµ„æºçš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚èµ„æºçš„ URLã€HTTP å¤´éƒ¨ç­‰ï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ° PUSH_PROMISE å¸§ï¼Œå¯ä»¥é€‰æ‹©æ‹’ç»æµ (é€šè¿‡ RST_STREAM å¸§)ï¼Œä¾‹å¦‚èµ„æºå·²ç»å­˜åœ¨äºå®¢æˆ·ç«¯çš„ç¼“å­˜ä¸­ã€‚")]),t._v(" "),r("h3",{attrs:{id:"hpack-å‹ç¼©"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#hpack-å‹ç¼©"}},[t._v("#")]),t._v(" HPACK å‹ç¼©")]),t._v(" "),r("p",[t._v("HTTP/2 è¦æ±‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åŒæ—¶ç»´æŠ¤å’Œæ›´æ–°ä¸€ä¸ªåŒ…å«ä¹‹å‰è§è¿‡çš„å¤´éƒ¨å­—æ®µè¡¨ï¼Œä»è€Œé¿å…äº†é‡å¤ä¼ è¾“ã€‚ HTTP/2 ä¸­é€šä¿¡åŒæ–¹å„è‡ªç¼“å­˜ä¸€ä»½å¤´éƒ¨å­—æ®µè¡¨ï¼Œå¦‚ï¼šæŠŠ Content-Type:text/html å­˜å…¥ç´¢å¼•è¡¨ä¸­ï¼Œåç»­å¦‚æœè¦ç”¨åˆ°è¿™ä¸ªå¤´ï¼Œåªéœ€è¦å‘é€å¯¹åº”çš„ç´¢å¼•å·å°±å¯ä»¥äº†ã€‚")]),t._v(" "),r("p",[t._v("é€šè¿‡å¤´éƒ¨å‹ç¼©ï¼Œè§£å†³äº† HTTP/1.1 ä¸­å¤´éƒ¨é‡å¤å¯¼è‡´çš„ä¸å¿…è¦çš„æ•°æ®ä¼ è¾“é—®é¢˜ã€‚")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http2_header_compress.png",alt:"HTTP/2 Header Compress"}})]),t._v(" "),r("p",[t._v("ä½œä¸ºè¿›ä¸€æ­¥çš„ä¼˜åŒ–ï¼Œ"),r("code",[t._v("HPACK å‹ç¼©ä¸Šä¸‹æ–‡")]),t._v(" ç”±é™æ€å’ŒåŠ¨æ€è¡¨ç»„æˆ:")]),t._v(" "),r("ul",[r("li",[t._v("é™æ€è¡¨ä¸­å®šä¹‰äº†è§„èŒƒæ ‡å‡†ï¼Œä¸»è¦æä¾›è¿æ¥å¯èƒ½ä¼šä½¿ç”¨åˆ°çš„å¸¸è§ HTTP æŠ¥å¤´å­—æ®µ (ä¾‹å¦‚ host, path, method â€¦)")]),t._v(" "),r("li",[t._v("åŠ¨æ€è¡¨åˆå§‹æ—¶ä¸ºç©ºï¼Œä½†æ˜¯ä¼šæ ¹æ®ç‰¹å®šè¿æ¥å†…çš„ä¸åŒå­—æ®µå€¼è¿›è¡Œæ›´æ–°ï¼Œé€šè¿‡å¯¹æ–°å‡ºç°çš„å­—æ®µå€¼ä½¿ç”¨ "),r("code",[t._v("Huffman")]),t._v(" ç¼–ç ï¼Œä»¥åŠå¯¹ å®¢æˆ·ç«¯/æœåŠ¡ç«¯ åŒæ–¹é™æ€è¡¨æˆ–åŠ¨æ€è¡¨ä¸­å·²ç»å­˜åœ¨çš„å­—æ®µå€¼æ›´æ–°ç´¢å¼•ï¼Œå¯ä»¥å‡å°‘æ¯ä¸ªè¯·æ±‚çš„å¤§å°")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http2_hpack.png",alt:"HTTP/2 Header Compress"}})]),t._v(" "),r("h3",{attrs:{id:"æµæ§åˆ¶"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æµæ§åˆ¶"}},[t._v("#")]),t._v(" æµæ§åˆ¶")]),t._v(" "),r("p",[t._v("æµæ§åˆ¶æ˜¯ä¸€ç§å‘é€æ–¹ä¸æ¥æ”¶æ–¹ä¹‹é—´çš„åå•†æœºåˆ¶ï¼Œé˜²æ­¢åŒæ–¹å‘å¯¹æ–¹å‘é€å¤§é‡æ•°æ®æ—¶ï¼Œé€ æˆå¯¹æ–¹è´Ÿè½½è¿‡é‡ï¼Œæˆ–è€…é™åˆ¶ç‰¹å®šèµ„æºçš„æµé‡é€Ÿç‡ã€‚ ä¾‹å¦‚å®¢æˆ·ç«¯è¯·æ±‚äº†ä¸€ä¸ªé«˜ä¼˜å…ˆçº§çš„å¤§è§†é¢‘æµï¼Œä½†æ˜¯ç”¨æˆ·è§‚çœ‹å‡ ç§’åæš‚åœäº†ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯åº”è¯¥æš‚åœæˆ–é™åˆ¶å…¶ä»æœåŠ¡å™¨ç«¯çš„æ•°æ®ä¼ è¾“ï¼Œé¿å…è¯·æ±‚å’Œç¼“å†²ä¸å¿…è¦çš„æ•°æ®ã€‚")]),t._v(" "),r("p",[t._v("æœ¬è´¨ä¸Šè¿™æ˜¯ä¸€ä¸ªæµé‡æ§åˆ¶é—®é¢˜ï¼Œä¹Ÿè®¸ä½ ä¼šæƒ³åˆ° TCP ä¸­çš„æµé‡æ§åˆ¶æœºåˆ¶ï¼Œä½†æ˜¯ HTTP/2 æ˜¯ä½¿ç”¨å•ä¸ª TCP è¿æ¥è¿›è¡Œå¤šè·¯å¤ç”¨çš„ï¼Œè¿™æ ·ä¸€æ¥ï¼Œ TCP ä¼ è¾“å±‚æµé‡æ§åˆ¶æ—¢æ²¡æœ‰è¶³å¤Ÿçš„æµé‡æ§åˆ¶ç²’åº¦ (æ²¡æœ‰åŠæ³•ä»¥ HTTP è¯·æ±‚èµ„æºä¸ºç²’åº¦è¿›è¡Œæ§åˆ¶ï¼Œå› ä¸ºå¾—ä¸å¿å¤±ï¼Œä¼šç›´æ¥æµªè´¹æ‰å¤šè·¯å¤ç”¨å¸¦æ¥çš„æ‰€æœ‰å¥½å¤„)ï¼Œ ä¹Ÿæ²¡æœ‰å¿…è¦æä¾›åº”ç”¨å±‚çš„ API æ¥æ§åˆ¶å•ä¸ªæµçš„ä¼ è¾“æ§åˆ¶ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒHTTP/2 æä¾›äº†ä¸€ç»„ç®€å•çš„æ„å»ºå—ï¼Œå…è®¸å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å®ç°è‡ªå·±çš„è¿æ¥æ§åˆ¶å’Œæµæ§åˆ¶ã€‚")]),t._v(" "),r("p",[t._v("HTTP/2 æµæ§åˆ¶å…·ä½“çš„è§„åˆ™å¦‚ä¸‹:")]),t._v(" "),r("ul",[r("li",[t._v("æµæ§åˆ¶æ˜¯å®šå‘çš„ï¼Œæ¥æ”¶æ–¹ (å®¢æˆ·ç«¯/æœåŠ¡ç«¯éƒ½æ˜¯å½¼æ­¤çš„æ¥æ”¶æ–¹) å¯ä»¥é€‰æ‹©ä¸ºæ¯ä¸ªæµå’Œæ•´ä¸ªè¿æ¥è®¾ç½®çª—å£å¤§å°")]),t._v(" "),r("li",[t._v("æµæ§åˆ¶æ˜¯åŸºäºçª—å£æœºåˆ¶çš„ï¼Œæ¥æ”¶æ–¹ä¼šå…¶åˆå§‹è¿æ¥å’Œæµæ§åˆ¶çª—å£ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ï¼Œå½“å‘é€æ–¹å‘å‡ºæ•°æ®å¸§æ—¶ï¼Œè¯¥çª—å£å°±ä¼šå‡å°‘ï¼Œå½“å‘é€æ–¹æ¥æ”¶åˆ°æ¥è‡ªæ¥æ”¶æ–¹å‘é€çš„ WINDOW_UPDATE å¸§æ—¶ï¼Œè¯¥çª—å£å°±ä¼šå¢åŠ ")]),t._v(" "),r("li",[t._v("æ— æ³•ç¦ç”¨æµæ§åˆ¶ï¼Œå½“å»ºç«‹ HTTP/2 è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨äº¤æ¢ SETTINGS å¸§ï¼Œç”¨æ¥è®¾ç½®ä¸¤ä¸ªæ–¹å‘çš„æµé‡æ§åˆ¶çª—å£å¤§å°ï¼Œæµé‡æ§åˆ¶çª—å£çš„é»˜è®¤å€¼è®¾ç½®ä¸º 65535 å­—èŠ‚ï¼Œ æœ€å¤§çª—å£å¤§å°ä¸ºï¼ˆ2^31 - 1 å­—èŠ‚ï¼‰ï¼Œå¹¶é€šè¿‡åœ¨æ¥æ”¶åˆ°æ•°æ®æ—¶å‘é€ WINDOW_UPDATE å¸§æ¥æ›´æ–°")])]),t._v(" "),r("p",[r("strong",[t._v("HTTP/2 æ²¡æœ‰æŒ‡å®šä»»ä½•ç‰¹å®šçš„ç®—æ³•æ¥å®ç°æµé‡æ§åˆ¶")]),t._v("ï¼Œå®ƒä»…æä¾›äº†ç®€å•çš„æ„å»ºå—ï¼Œå¹¶å°†å®ç°å§”æ‰˜ç»™å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¯ä»¥ä½¿ç”¨å®ƒå®ç°è‡ªå®šä¹‰ç­–ç•¥è°ƒèŠ‚èµ„æºåˆ†é…ã€‚ åº”ç”¨å±‚æµé‡æ§åˆ¶å…è®¸æµè§ˆå™¨åªè·å–ç‰¹å®šèµ„æºçš„ä¸€éƒ¨åˆ†ï¼Œé€šè¿‡å°†æµé‡æ§åˆ¶çª—å£ (WINDOW_UPDATE) å‡å°‘åˆ°é›¶æ¥å®ç°æš‚åœèµ„æºè·å–ï¼Œç„¶ååœ¨åˆé€‚çš„æ—¶é—´å†è¿›è¡Œæ¢å¤ã€‚ ä¾‹å¦‚è·å–å›¾åƒçš„é¢„è§ˆå›¾ (è¯¥å›¾åƒå†…å®¹çš„ä¸€éƒ¨åˆ†)ï¼Œæ˜¾ç¤ºé¢„è§ˆå›¾çš„åŒæ—¶å…è®¸å…¶ä»–é«˜ä¼˜å…ˆçº§çš„è¯·æ±‚ç»§ç»­è·å–ï¼Œå¹¶åœ¨ä¼˜å…ˆçº§æ›´é«˜çš„èµ„æºå®ŒæˆåŠ è½½åæ¢å¤ç»§ç»­å›¾åƒçš„è·å–è¯·æ±‚ã€‚")]),t._v(" "),r("h3",{attrs:{id:"ä¸€æ¬¡-http-2-é€šä¿¡ç¤ºä¾‹"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€æ¬¡-http-2-é€šä¿¡ç¤ºä¾‹"}},[t._v("#")]),t._v(" ä¸€æ¬¡ HTTP/2 é€šä¿¡ç¤ºä¾‹")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http2_req_and_resp.png",alt:"HTTP/2 é€šä¿¡è¿‡ç¨‹"}})]),t._v(" "),r("ol",[r("li",[t._v("é¦–æ¬¡è®¿é—®æ—¶ï¼Œæµè§ˆå™¨è¯·æ±‚å¤´éƒ¨åŠ ä¸Š upgrade: h2c æ ‡è¯†ï¼Œå£°æ˜å®¢æˆ·ç«¯æ”¯æŒ HTTP/2ï¼Œè¯¢é—®æœåŠ¡å™¨è¦ä¸è¦æ›´æ¢åè®®")]),t._v(" "),r("li",[t._v("æµè§ˆå™¨åŒæ—¶å‘é€ HTTP/2-Settings å¤´éƒ¨ï¼Œå¸¦ä¸Š base64 ç¼–ç çš„ SETTINGS frame")]),t._v(" "),r("li",[t._v("å¯¹äº HTTPS è¯·æ±‚ï¼Œæ˜¯åœ¨ TLS æ¡æ‰‹é˜¶æ®µè¿›è¡Œåå•†ï¼Œæµè§ˆå™¨å‘é€ ClientHello æ—¶ï¼Œå¸¦ä¸Š h2 æ ‡å¿—ï¼Œè¡¨æ˜å®¢æˆ·ç«¯æ”¯æŒ HTTP/2")]),t._v(" "),r("li",[t._v("å¦‚æœæœåŠ¡å™¨ä¸æ”¯æŒï¼Œåˆ™å¿½ç•¥ upgrade å¤´éƒ¨ï¼Œæ­£å¸¸å“åº”ã€‚å¦‚æœæ”¯æŒï¼Œåˆ™å‘é€101å“åº”ï¼Œä»¥ç©ºè¡Œç»“æŸå“åº”ï¼Œå¹¶å¼€å§‹å‘é€ HTTP/2å¸§")]),t._v(" "),r("li",[t._v("æœåŠ¡å™¨è¦å…ˆå“åº” connection prefaceï¼Œå¸¦ä¸Š SETTINGS frame")]),t._v(" "),r("li",[t._v("æœåŠ¡å™¨åˆ›å»ºæ–°æµï¼Œæ¨é€ a.jsã€‚ç„¶åç»§ç»­å‘é€ index.html æ–‡ä»¶å’Œ a.js æ–‡ä»¶çš„response headerã€response body")]),t._v(" "),r("li",[t._v("æµè§ˆå™¨æ”¶åˆ° PUSH_PROMISE å¸§ï¼Œå‘ç°æœåŠ¡å™¨è¦æ¨é€çš„å†…å®¹å·²ç»åœ¨æµè§ˆå™¨ç¼“å­˜é‡Œäº†ï¼Œå‘é€ RST_STREAM æ‹’ç»æ¨é€")]),t._v(" "),r("li",[t._v("æœåŠ¡å™¨æ”¶åˆ° RST_STREAM å¸§åï¼Œä¸å†æ¨é€ a.js æ–‡ä»¶å‰©ä½™çš„æ•°æ®")]),t._v(" "),r("li",[t._v("æœåŠ¡å™¨æƒ³è¦å…³é—­è¿æ¥ï¼Œå‘é€ GOAWAY å¸§")])]),t._v(" "),r("h3",{attrs:{id:"æ£€æµ‹æ˜¯å¦æ”¯æŒ-http-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æ£€æµ‹æ˜¯å¦æ”¯æŒ-http-2"}},[t._v("#")]),t._v(" æ£€æµ‹æ˜¯å¦æ”¯æŒ HTTP/2")]),t._v(" "),r("p",[t._v("é€šè¿‡ CURL å‘½ä»¤æ¥æ£€æµ‹ç½‘ç«™æ˜¯å¦æ”¯æŒ HTTP/2 åè®®ã€‚")]),t._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("$ "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-I")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://dbwu.tech"')]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¾“å‡ºå¦‚ä¸‹")]),t._v("\n\nHTTP/2 "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" \ndate: Sun, "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(" Jan "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2023")]),t._v(" 04:15:29 GMT\ncontent-type: text/html"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("charset")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf-8\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br")])]),r("p",[t._v("ç›´æ¥ä½¿ç”¨ â€“http/2 å‚æ•°æŒ‡å®š CURL è¯·æ±‚ä½¿ç”¨ HTTP/2 åè®®ã€‚")]),t._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("$ "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --http/2 "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://dbwu.tech"')]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br")])]),r("p",[t._v("ä¹Ÿå¯ä»¥é€šè¿‡ "),r("a",{attrs:{href:"https://http2.pro/check",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ¨çº¿å·¥å…·"),r("OutboundLink")],1),t._v(" è¿›è¡Œæ£€æµ‹ã€‚")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http2_check.png",alt:"HTTP/2 åœ¨çº¿æ£€æµ‹å·¥å…·"}})]),t._v(" "),r("h3",{attrs:{id:"http-1-å‡çº§åè¿‡æ—¶çš„ä¼˜åŒ–æ–¹æ¡ˆ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#http-1-å‡çº§åè¿‡æ—¶çš„ä¼˜åŒ–æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" HTTP/1 å‡çº§åè¿‡æ—¶çš„ä¼˜åŒ–æ–¹æ¡ˆ")]),t._v(" "),r("p",[t._v("å‡çº§åˆ° HTTP/2 ä¹‹åï¼Œå¾ˆå¤š HTTP/1 ä¸­çš„ä¼˜åŒ–æ–¹æ¡ˆï¼Œåœ¨ HTTP/2 ä¸­å°±æ²¡æœ‰å­˜åœ¨çš„å¿…è¦äº†ï¼Œä¾‹å¦‚ä¸‹é¢è¿™äº›æ›¾ç»çš„ â€œç»å…¸â€ ä¼˜åŒ–æ–¹æ¡ˆ:")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("Sprites")]),t._v(": å°†å¾ˆå¤šå°å›¾åˆå¹¶æˆä¸€å¼ å¤§å›¾ï¼Œå†åˆ©ç”¨ CSS å’Œ JavaScript å°†å°å›¾å®šä½å¹¶åˆ‡å‰²å‡ºæ¥ (å¸¸è§çš„ä¸šåŠ¡åœºæ™¯å¦‚ Logo å›¾é›†ã€ç½‘é¡µæ¸¸æˆé“å…·ç­‰)")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/css_sprites.png",alt:"å›¾ç‰‡æ¥æº: https://www.formget.com/css-image-sprites"}})]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("Inlining")]),t._v(": å°†å›¾ç‰‡çš„åŸå§‹æ•°æ® base64 ç¼–ç ä¹‹ååµŒå…¥åˆ° CSS å±æ€§ä¸­ (å¯ä»¥èŠ‚çº¦ä¸€æ¬¡ HTTP è¯·æ±‚)")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/css_image.png",alt:"å›¾ç‰‡æ¥æº: https://stackoverflow.com/questions/41762836/what-is-base-64-fonts-for-css"}})]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("Concatenation")]),t._v(": å°†è®¸å¤šå°çš„é™æ€æ–‡ä»¶åˆå¹¶åˆ°ä¸€ä¸ªå¤§çš„é™æ€æ–‡ä»¶ä¸­")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http1_concat.png",alt:"å›¾ç‰‡æ¥æº: https://blog.cloudflare.com/http-2-for-web-developers/"}})]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http2_concat.png",alt:"å›¾ç‰‡æ¥æº: https://blog.cloudflare.com/http-2-for-web-developers/"}})]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("Sharding")]),t._v(": å°†é™æ€èµ„æºåˆ†å‘åˆ°ä¸åŒçš„åŸŸå (å³ä½¿æ²¡æœ‰ HTTP/2, è¿™ä¸ªæ–¹æ¡ˆä¹Ÿå¯ä»¥ä½¿ç”¨ CDN æ¥æ›¿ä»£ï¼Œæ–¹æ¡ˆçš„æ ¸å¿ƒåœ¨äºå¹¶å‘ TCP è¿æ¥ä»¥åŠä¼˜åŒ– cookies)")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http_domain_sharing.png",alt:"å›¾ç‰‡æ¥æº: https://blog.cloudflare.com/http-2-for-web-developers/"}})]),t._v(" "),r("h3",{attrs:{id:"http-1-å‡çº§åä»ç„¶æœ‰æ•ˆçš„çš„ä¼˜åŒ–æ–¹æ¡ˆ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#http-1-å‡çº§åä»ç„¶æœ‰æ•ˆçš„çš„ä¼˜åŒ–æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" HTTP/1 å‡çº§åä»ç„¶æœ‰æ•ˆçš„çš„ä¼˜åŒ–æ–¹æ¡ˆ")]),t._v(" "),r("p",[t._v("é™¤äº†ä¸Šè¿°å‡çº§åˆ° HTTP/2 å¤±æ•ˆçš„ä¼˜åŒ–æ–¹æ¡ˆå¤–ï¼Œå¤§éƒ¨åˆ†åœ¨ HTTP/1 ä¼˜åŒ–çš„æ–¹æ¡ˆåœ¨ HTTP/2 ä¸­ä»ç„¶æœ‰æ•ˆå—ï¼Œä¾‹å¦‚ä¸‹é¢è¿™äº›æ–¹æ¡ˆ:")]),t._v(" "),r("ul",[r("li",[t._v("é™ä½ DNS è½®è¯¢ (å¯ä»¥å‚è€ƒä¸»æµäº‘è®¡ç®—å‚å•†æä¾›çš„è§£å†³æ–¹æ¡ˆåŠå®ç°åŸç†)")]),t._v(" "),r("li",[t._v("ä½¿ç”¨ CDN (å¹¶ä¸”æ ¹æ®ä¸šåŠ¡åœºæ™¯å’ŒæœåŠ¡è¿›è¡Œè®¾è®¡æ‹†åˆ†)")]),t._v(" "),r("li",[t._v("å°½å¯èƒ½ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜æœºåˆ¶")]),t._v(" "),r("li",[t._v("å°½å¯èƒ½ä¼˜åŒ–è¯·æ±‚å“åº”æ—¶é—´å’Œå“åº”å†…å®¹å¤§å°")]),t._v(" "),r("li",[t._v("å°½å¯èƒ½æ¶ˆé™¤é‡å®šå‘")])]),t._v(" "),r("h3",{attrs:{id:"http-2-çš„ä¼˜åŒ–ç©ºé—´"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#http-2-çš„ä¼˜åŒ–ç©ºé—´"}},[t._v("#")]),t._v(" HTTP/2 çš„ä¼˜åŒ–ç©ºé—´")]),t._v(" "),r("p",[t._v("HTTP/2 é’ˆå¯¹åŸºäº TCP åè®®æ ˆçš„ HTTP ä¼˜åŒ–ï¼Œå‡ ä¹ä¸Šå·²ç»è¾¾åˆ°äº†æœ€å¤§åŒ–ï¼Œå¦‚æœéœ€è¦ç»§ç»­æ·±å…¥ä¼˜åŒ–ï¼Œåªèƒ½ä»åè®®æ ˆæœ¬èº«çš„æ¶æ„åšè°ƒæ•´ï¼Œå½“ç„¶ä¹Ÿå°±æ˜¯ HTTP/3 åè®®ä¸»è¦åšçš„å·¥ä½œã€‚")]),t._v(" "),r("p",[t._v("ä¼˜åŒ–æ ¸å¿ƒç›®æ ‡ä¾ç„¶æ˜¯ TCP çš„å¯é æ€§æœºåˆ¶å¯¼è‡´çš„ä¼ è¾“æ•ˆç‡å’Œå»¶è¿Ÿé—®é¢˜:")]),t._v(" "),r("ul",[r("li",[t._v("TCP å»ºç«‹è¿æ¥æ—¶çš„ä¸‰æ¬¡æ¡æ‰‹ï¼Œå¢åŠ äº†è¯·æ±‚å»¶æ—¶")]),t._v(" "),r("li",[t._v("TCP å†…éƒ¨çš„æ‹¥å¡æ§åˆ¶ã€æ…¢å¯åŠ¨ã€æ‹¥å¡é¿å…ç­‰æœºåˆ¶ï¼Œå¯èƒ½å¯¼è‡´ä¼ è¾“æ•ˆç‡ä¸è¶³")]),t._v(" "),r("li",[t._v("HTTP/2 è™½ç„¶è§£å†³äº† HTTP/1 åè®®ä¸­çš„ "),r("strong",[t._v("é˜Ÿåˆ—å¤´éƒ¨è¯·æ±‚é˜»å¡")]),t._v(" (head of line blocking) é—®é¢˜ï¼Œä½†æ˜¯ TCP åè®®ä¹Ÿå­˜åœ¨ç±»ä¼¼çš„é—®é¢˜: TCP åœ¨ä¼ è¾“æ—¶ä½¿ç”¨åºåˆ—å·æ ‡è¯†æ•°æ®çš„é¡ºåºï¼Œä¸€æ—¦æŸä¸ªæ•°æ®ä¸¢å¤±ï¼Œåé¢çš„æ•°æ®éœ€è¦ç­‰å¾…è¿™ä¸ªæ•°æ®é‡ä¼ åæ‰èƒ½è¿›è¡Œä¸‹ä¸€æ­¥å¤„ç†")]),t._v(" "),r("li",[t._v("æ ¹æ®æµ‹è¯•è¡¨æ˜ï¼Œåœ¨è¾ƒå·®çš„ç½‘ç»œç¯å¢ƒä¸­ (ä¸¢åŒ…ç‡ >= 2%)ï¼ŒHTTP/2 çš„æ€§èƒ½ç”šè‡³ä¸å¦‚ HTTP/1, å› ä¸º HTTP/1 ä¸€èˆ¬ä¼šæ‰“å¼€å¤šä¸ª TCP è¿æ¥ï¼Œå³ä½¿å…¶ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªè¿æ¥å‡ºç°ä¸¢åŒ…ï¼Œå‰©ä¸‹çš„è¿æ¥ä¾ç„¶å¯ä»¥è¿›è¡Œæ•°æ®ä¼ è¾“")])]),t._v(" "),r("h2",{attrs:{id:"http-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#http-3"}},[t._v("#")]),t._v(" HTTP/3")]),t._v(" "),r("p",[t._v("HTTP/3 æ˜¯åŸºäº QUICï¼ˆQuick UDP Internet Connectionsï¼‰åè®®çš„æ–°ä¸€ä»£ HTTP åè®®ã€‚")]),t._v(" "),r("h3",{attrs:{id:"quic"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#quic"}},[t._v("#")]),t._v(" QUIC")]),t._v(" "),r("blockquote",[r("p",[t._v("QUIC æ˜¯ç”± Google æå‡ºçš„åŸºäº UDP è¿›è¡Œå¤šè·¯å¤ç”¨çš„ä¼ è¾“åè®®ï¼Œæ˜¯ä¸€ä¸ª UDP ç‰ˆçš„ TCP + TLS + HTTP/2 æ›¿ä»£æ–¹æ¡ˆå®ç°ã€‚ QUIC æ²¡æœ‰è¿æ¥çš„æ¦‚å¿µï¼Œä¸éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œåœ¨åº”ç”¨ç¨‹åºå±‚é¢ï¼Œå®ç°äº† TCP çš„å¯é æ€§ï¼ŒTLS çš„å®‰å…¨æ€§å’Œ HTTP2 çš„å¹¶å‘æ€§ã€‚ åœ¨è®¾å¤‡æ”¯æŒå±‚é¢ï¼Œåªéœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„åº”ç”¨ç¨‹åºæ”¯æŒ QUIC åè®®å³å¯ï¼Œæ— æ“ä½œç³»ç»Ÿå’Œä¸­é—´è®¾å¤‡çš„é™åˆ¶ã€‚")])]),t._v(" "),r("p",[t._v("QUIC ä¸¢æ‰äº† TCP çš„åŒ…è¢±ï¼ŒåŸºäº UDPï¼Œå®ç°äº†ä¸€ä¸ªå®‰å…¨é«˜æ•ˆå¯é çš„ HTTP é€šä¿¡åè®®ã€‚å‡­å€Ÿç€ 0-RTT å»ºç«‹è¿æ¥ã€ä¼ è¾“å±‚å¤šè·¯å¤ç”¨ã€è¿æ¥è¿ç§»ã€æ”¹è¿›çš„æ‹¥å¡æ§åˆ¶ã€æµé‡æ§åˆ¶ç­‰ç‰¹æ€§ï¼ŒQUIC åœ¨ç»å¤§å¤šæ•°åœºæ™¯ä¸‹è·å¾—äº†æ¯” HTTP/2 æ›´å¥½çš„æ•ˆæœã€‚")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http3_with_http2.png",alt:"HTTP/2 å’Œ HTTP/3 çš„åè®®æ ˆæ¯”è¾ƒ"}})]),t._v(" "),r("h3",{attrs:{id:"é¢˜å¤–è¯"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#é¢˜å¤–è¯"}},[t._v("#")]),t._v(" é¢˜å¤–è¯")]),t._v(" "),r("p",[r("strong",[t._v("ä¸ºä»€ä¹ˆä¸å‘æ˜ä¸€ä¸ªæ–°çš„ä¼ è¾“åè®®")]),t._v("ï¼Ÿ")]),t._v(" "),r("p",[t._v("äº‹å®ä¸Šï¼Œé¢å¯¹ä¼ ç»Ÿä¼ è¾“å±‚ TCP å’Œ UDP åè®®çš„å„ç§é—®é¢˜å’Œä¸è¶³ï¼Œåˆ›æ–°å‹çš„ä¼ è¾“å±‚åè®®æœ€ç»ˆéƒ½æ²¡æœ‰èƒ½æˆä¸ºè¡Œä¸šæ ‡å‡†ã€‚å› ä¸ºè¿™ä¸å•å•æ˜¯æŠ€æœ¯é—®é¢˜ï¼Œ å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¹‹é—´è¦ç»è¿‡ç½‘ç»œä¸­çš„è¿è¥å•†é˜²ç«å¢™ã€è·¯ç”±å™¨ã€NAT ç­‰ï¼Œè¿™äº›è®¾å¤‡ä¸­å¾ˆå¤šé»˜è®¤åªæ”¯æŒ TCP å’Œ UDP åè®®ï¼Œé‚£ä¹ˆå¯æƒ³è€ŒçŸ¥ï¼Œæ–°å‹åè®®æ ¹æœ¬æ— æ³•åœ¨äº’è”ç½‘æ™®åŠã€‚ è€Œä¸”ï¼Œå³ä½¿ä¸Šè¿°æ‰€æœ‰çš„ä¸­é—´è®¾å¤‡æƒ³è¦æ”¯æŒæ–°å‹åè®®ï¼Œé‚£ä¹ˆæ›´æ–°å’Œéƒ¨ç½²æ–°çš„ç½‘ç»œåè®®æ ˆã€æ“ä½œç³»ç»Ÿå†…æ ¸ç­‰åŸºç¡€è®¾æ–½å’Œè½¯ä»¶ï¼Œå¿…ç„¶æ˜¯ä¸€ä¸ªååˆ†ç¼“æ…¢çš„è¿‡ç¨‹ï¼Œåœ¨æ­¤æœŸé—´é€ æˆçš„åœæœºç­‰é—®é¢˜å¼•èµ·çš„ç»æµæŸå¤±å¯èƒ½æ˜¯æ— æ³•ä¼°é‡çš„ã€‚")]),t._v(" "),r("h3",{attrs:{id:"æ ¸å¿ƒä¼˜åŒ–"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æ ¸å¿ƒä¼˜åŒ–"}},[t._v("#")]),t._v(" æ ¸å¿ƒä¼˜åŒ–")]),t._v(" "),r("blockquote",[r("p",[t._v("æœ€é‡è¦çš„ä¼˜åŒ–å°±æ˜¯ä½¿ç”¨ QUIC åè®®ä»£æ›¿äº† HTTP/2 ä¸­çš„ä¾èµ–çš„ TCP åè®®æ ˆã€‚")])]),t._v(" "),r("h4",{attrs:{id:"_0-rtt"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_0-rtt"}},[t._v("#")]),t._v(" 0-RTT")]),t._v(" "),r("p",[t._v("QUIC åè®®å¯ä»¥å®ç° 0-RTT å»ºç«‹è¿æ¥ (0-RTT æ˜¯æŒ‡é€šä¿¡åŒæ–¹å‘èµ·é€šä¿¡è¿æ¥æ—¶ï¼Œç¬¬ä¸€ä¸ªæ•°æ®åŒ…å°±å¯ä»¥æºå¸¦æœ‰æ•ˆçš„ä¸šåŠ¡æ•°æ®)ï¼Œè€Œ TCP éœ€è¦ 3-RTT å»ºç«‹è¿æ¥ï¼Œè¿™ä¸ªä¼˜åŠ¿ä¸æ­¢ä½“ç°åœ¨åˆå§‹å»ºç«‹è¿æ¥æ—¶ï¼Œåœ¨ç½‘ç»œå‘ç”Ÿå˜åŒ–æ—¶åŒæ ·é€‚ç”¨ã€‚")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http3_quic_tcp.png",alt:"å›¾ç‰‡æ¥æº: https://en.wikipedia.org/wiki/QUIC"}})]),t._v(" "),r("p",[t._v("å…³äº 0-RTTï¼Œéœ€è¦è¯´æ˜çš„æ˜¯: "),r("strong",[t._v("å¦‚æœå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ˜¯ç¬¬ä¸€æ¬¡é€šä¿¡ï¼Œé‚£ä¹ˆéœ€è¦ç»è¿‡ 1-RTT (ä¸»è¦æ˜¯å®¢æˆ·ç«¯è·å–æœåŠ¡ç«¯åŠ å¯†é…ç½®)ï¼Œå¦‚æœå·²ç»æœ‰è¿‡ä¸€æ¬¡é€šä¿¡ä¹‹åï¼Œ åç»­å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„é€šä¿¡è¿æ¥å°±æ˜¯ 0-RTT")]),t._v("ã€‚é™äºç¯‡å¹…ï¼Œç¬¬ä¸€æ¬¡å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡ç«¯è·å–å¯†é’¥åŠåŠ å¯†é…ç½®çš„è¿‡ç¨‹ï¼Œæœ¬æ–‡ä¸å†å±•å¼€æè¿°ã€‚")]),t._v(" "),r("h4",{attrs:{id:"å¤šè·¯å¤ç”¨"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å¤šè·¯å¤ç”¨"}},[t._v("#")]),t._v(" å¤šè·¯å¤ç”¨")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http3_multiplexing.png",alt:"å›¾ç‰‡æ¥æº: https://www.debugbear.com/blog/http3-quic-protocol-guide"}})]),t._v(" "),r("p",[t._v("QUIC ä¸­çš„æ¯ä¸ª stream ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå•ä¸ª stream ä¸¢å¤±äº†ï¼Œä¸ä¼šå½±å“åˆ°å…¶ä»– streamï¼ŒQUIC åè®®åœ¨å‘é€æ•°æ®æ—¶ä¼šæ‹†åˆ†ä¸ºå¤šä¸ªåŒ…ï¼Œ è¿™æ ·å°±å®Œå…¨è§£å†³äº† "),r("strong",[t._v("é˜Ÿåˆ—å¤´éƒ¨è¯·æ±‚é˜»å¡")]),t._v(" (head of line blocking) é—®é¢˜ã€‚ å°½ç®¡ QUIC æ¶ˆé™¤äº† HTTP/2 çš„é˜Ÿåˆ—å¤´éƒ¨è¯·æ±‚é˜»å¡é—®é¢˜ï¼Œä½†å…¶ä¾èµ–çš„ UDP æœ¬èº«æ˜¯æ— åºäº¤ä»˜çš„ï¼Œä¹Ÿå°±æ˜¯æ•°æ®ä¸ä¸€å®šæŒ‰ç…§å‘é€æ—¶çš„é¡ºåºåˆ°è¾¾ï¼Œ (æ‰€ä»¥å¹¶ä¸æ˜¯åˆ‡æ¢åˆ° HTTP/3 å°±ä¸‡äº‹å¤§å‰äº†ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¿…é¡»è¦æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯ï¼Œå°è¯•åšæ›´å¤šçš„ä¼˜åŒ–å·¥ä½œ)ã€‚")]),t._v(" "),r("h4",{attrs:{id:"å•è°ƒé€’å¢çš„åºåˆ—å·"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å•è°ƒé€’å¢çš„åºåˆ—å·"}},[t._v("#")]),t._v(" å•è°ƒé€’å¢çš„åºåˆ—å·")]),t._v(" "),r("p",[t._v("TCP ä¸­ï¼Œæ¯ä¸€ä¸ªæ•°æ®åŒ…éƒ½æœ‰ä¸€ä¸ªåºåˆ—å·æ ‡è¯†ï¼ˆseqï¼‰ï¼Œå¦‚æœæ¥æ”¶ç«¯è¶…æ—¶æ²¡æœ‰æ”¶åˆ°ï¼Œå°±ä¼šè¦æ±‚é‡å‘æ ‡è¯†ä¸º seq çš„åŒ…ï¼Œå¦‚æœæ­¤æ—¶æ°å¥½æ¥å—åˆ°äº†è¶…æ—¶çš„åŒ…ï¼Œ åˆ™æ— æ³•åŒºåˆ†å“ªä¸ªæ˜¯è¶…æ—¶çš„åŒ…ï¼Œå“ªä¸ªæ˜¯é‡ä¼ çš„åŒ…ã€‚")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("RTT")]),t._v(": Round Trip Time, å¾€è¿”äº‹ä»¶")]),t._v(" "),r("li",[r("strong",[t._v("RTO")]),t._v(": Retransmission Timeout, è¶…æ—¶é‡ä¼ æ—¶é—´")])]),t._v(" "),r("p",[t._v("å¦‚æœå®¢æˆ·ç«¯è®¤ä¸ºæ”¶åˆ°çš„åŒ…æ˜¯é‡ä¼ åŒ…ï¼Œä½†æ˜¯å®é™…æ˜¯è¶…æ—¶çš„åŒ…ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´è®¡ç®—å‡ºæ¥çš„ RTT å€¼åå°ï¼Œåä¹‹è®¡ç®—å‡ºæ¥çš„ RTT å€¼åå¤§ã€‚")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http3_rtt_2.png",alt:"ç¤ºä¾‹: RTT å€¼åå°"}})]),t._v(" "),r("p",[t._v("åœ¨ä¸Šé¢çš„ç¤ºä¾‹å›¾ä¸­ï¼ŒRTT è®¡ç®—å‡ºæ¥çš„ RTT å€¼æ¯”å®é™…å€¼è¦å°ã€‚")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http3_rtt_1.png",alt:"ç¤ºä¾‹: RTT å€¼åå¤§"}})]),t._v(" "),r("p",[t._v("åœ¨ä¸Šé¢çš„ç¤ºä¾‹å›¾ä¸­ï¼ŒRTT è®¡ç®—å‡ºæ¥çš„ RTT å€¼æ¯”å®é™…å€¼è¦å¤§ã€‚")]),t._v(" "),r("p",[r("strong",[t._v("QUIC ä¸­çš„æ¯ä¸€ä¸ªåŒ…çš„æ ‡è¯†ï¼ˆPacket Numberï¼‰éƒ½æ˜¯å•è°ƒé€’å¢çš„")]),t._v("ï¼Œé‡ä¼ çš„åºå·ä¸€å®šå¤§äºè¶…æ—¶çš„åºå·ï¼Œè¿™æ ·å°±èƒ½æœ‰æ•ˆåœ°åŒºåˆ†è¶…æ—¶å’Œé‡ä¼ ã€‚")]),t._v(" "),r("h4",{attrs:{id:"ç¦æ­¢-reneging"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ç¦æ­¢-reneging"}},[t._v("#")]),t._v(" ç¦æ­¢ Reneging")]),t._v(" "),r("p",[t._v("TCP ä¸­ï¼Œå¦‚æœæ¥æ”¶æ–¹å†…å­˜ä¸å¤Ÿæˆ– Buffer æº¢å‡ºï¼Œåˆ™å¯èƒ½ä¼šæŠŠå·²æ¥æ”¶çš„åŒ…ä¸¢å¼ƒï¼Œè¿™ç§è¡Œä¸ºå¯¹æ•°æ®é‡ä¼ äº§ç”Ÿäº†å¾ˆå¤§çš„å¹²æ‰°ï¼Œåœ¨ QUIC ä¸­æ˜¯æ˜ç¡®ç¦æ­¢çš„ã€‚åœ¨ QUIC ä¸­ï¼Œä¸€ä¸ªåŒ…åªè¦è¢« ACK ï¼Œå°±è®¤ä¸ºä¸€å®šä¼šè¢«æ­£ç¡®æ¥æ”¶ã€‚")]),t._v(" "),r("h4",{attrs:{id:"æ‰¹é‡-ack"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æ‰¹é‡-ack"}},[t._v("#")]),t._v(" æ‰¹é‡ ACK")]),t._v(" "),r("p",[t._v("TCP ä¸­æ¯æ”¶åˆ° 3 ä¸ªæ•°æ®åŒ…å°±è¦è¿”å›ä¸€ä¸ª ACKï¼Œè€Œ QUIC æœ€å¤šå¯ä»¥æ”¶åˆ° 256 ä¸ªåŒ…ä¹‹åï¼Œæ‰è¿”å› ACKã€‚åœ¨ä¸¢åŒ…ç‡æ¯”è¾ƒä¸¥é‡çš„ç½‘ç»œä¸‹ï¼Œæ›´å¤šçš„ ACK å—å¯ä»¥å‡å°‘é‡ä¼ é‡ï¼Œæå‡ç½‘ç»œæ•ˆç‡ã€‚")]),t._v(" "),r("h4",{attrs:{id:"ack-delay"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ack-delay"}},[t._v("#")]),t._v(" ACK Delay")]),t._v(" "),r("p",[t._v("TCP è®¡ç®— RTT æ—¶æ²¡æœ‰è€ƒè™‘æ¥æ”¶æ–¹æ¥æ”¶åˆ°æ•°æ®åˆ°å‘é€ç¡®è®¤æ¶ˆæ¯ä¹‹é—´çš„å»¶è¿Ÿï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ ACK Delayã€‚QUIC å……åˆ†è€ƒè™‘åˆ° ACK Delayï¼Œè¿™æ · RTT çš„è®¡ç®—ä¼šæ›´åŠ å‡†ç¡®ã€‚")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http3_ack_delay.png",alt:"å›¾ç‰‡æ¥æº: https://assets.extrahop.com/whitepapers/TCP-Optimization-Guide-by-ExtraHop.pdf"}})]),t._v(" "),r("h4",{attrs:{id:"æµé‡æ§åˆ¶"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æµé‡æ§åˆ¶"}},[t._v("#")]),t._v(" æµé‡æ§åˆ¶")]),t._v(" "),r("p",[t._v("TCP é€šè¿‡æ»‘åŠ¨çª—å£æ¥æ§åˆ¶æµé‡ï¼Œå¦‚æœæŸä¸€ä¸ªåŒ…ä¸¢å¤±äº†ï¼Œæ»‘åŠ¨çª—å£å¹¶ä¸èƒ½è·¨è¿‡ä¸¢å¤±çš„åŒ…ç»§ç»­æ»‘åŠ¨ï¼Œè€Œæ˜¯ä¼šå¡åœ¨ä¸¢å¤±çš„ä½ç½®ï¼Œç­‰å¾…æ•°æ®é‡ä¼ åï¼Œæ‰èƒ½ç»§ç»­æ»‘åŠ¨ã€‚")]),t._v(" "),r("p",[t._v("QUIC æµé‡æ§åˆ¶çš„æ ¸å¿ƒæ˜¯ï¼šä¸èƒ½å»ºç«‹å¤ªå¤šçš„è¿æ¥ï¼Œä»¥å…å“åº”ç«¯å¤„ç†ä¸è¿‡æ¥ï¼›ä¸èƒ½è®©æŸä¸€ä¸ªè¿æ¥å ç”¨å¤§é‡çš„èµ„æºï¼Œè®©å…¶ä»–è¿æ¥æ²¡æœ‰èµ„æºå¯ç”¨ã€‚ ä¸ºæ­¤ QUIC æµé‡æ§åˆ¶åˆ†ä¸º "),r("strong",[t._v("è¿æ¥çº§åˆ«å’Œ Stream çº§åˆ«")]),t._v(" :")]),t._v(" "),r("ul",[r("li",[t._v("Stream çº§åˆ«æµé‡æ§åˆ¶ä¸­ï¼Œæ¥æ”¶çª—å£ = æœ€å¤§æ¥æ”¶çª—å£ - å·²æ¥æ”¶æ•°æ®")]),t._v(" "),r("li",[t._v("è¿æ¥çº§åˆ«æµé‡æ§åˆ¶ä¸­ï¼Œæ¥æ”¶çª—å£ = Stream1 æ¥æ”¶çª—å£ + Stream2 æ¥æ”¶çª—å£ + â€¦ + StreamN æ¥æ”¶çª—å£")])]),t._v(" "),r("h4",{attrs:{id:"è¿æ¥è¿ç§»"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#è¿æ¥è¿ç§»"}},[t._v("#")]),t._v(" è¿æ¥è¿ç§»")]),t._v(" "),r("p",[t._v("TCP è¿æ¥æ˜¯ç”±ï¼ˆæº IPï¼Œæºç«¯å£ï¼Œç›®çš„ IPï¼Œç›®çš„ç«¯å£ï¼‰ç»„æˆï¼Œè¿™ä¸ªå››å…ƒç»„ä¸­ä¸€æ—¦æœ‰ä¸€é¡¹å€¼å‘ç”Ÿæ”¹å˜ï¼Œè¿™ä¸ªè¿æ¥ä¹Ÿå°±ä¸èƒ½ç”¨äº†ã€‚å¦‚æœæˆ‘ä»¬ä» wifi ç½‘ç»œåˆ‡æ¢åˆ° 4G ç½‘ç»œï¼ŒIP åœ°å€å°±ä¼šæ”¹å˜ï¼Œè¿™ä¸ªæ—¶å€™ TCP è¿æ¥ä¹Ÿè‡ªç„¶æ–­æ‰äº†ã€‚")]),t._v(" "),r("p",[t._v("QUIC ä½¿ç”¨å®¢æˆ·ç«¯ç”Ÿæˆçš„ 64 ä½ ID æ¥è¡¨ç¤ºä¸€æ¡è¿æ¥ï¼Œåªè¦ ID ä¸å˜ï¼Œè¿™æ¡è¿æ¥ä¹Ÿå°±ä¸€ç›´ç»´æŒç€ï¼Œä¸ä¼šä¸­æ–­ã€‚")]),t._v(" "),r("h4",{attrs:{id:"å‰å‘çº é”™æœºåˆ¶"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å‰å‘çº é”™æœºåˆ¶"}},[t._v("#")]),t._v(" å‰å‘çº é”™æœºåˆ¶")]),t._v(" "),r("p",[t._v("QUIC ä½¿ç”¨å‰å‘çº é”™(FECï¼ŒForward Error Correction)æŠ€æœ¯å¢åŠ åè®®çš„å®¹é”™æ€§ã€‚")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http3_fec.png",alt:"å›¾ç‰‡æ¥æº: https://www.xoriant.com/blog/quic-is-around-it-is-being-tested-on-you"}})]),t._v(" "),r("p",[t._v("å¦‚å›¾æ‰€ç¤ºï¼Œä¸€æ®µæ•°æ®è¢«åˆ‡åˆ†ä¸º 10 ä¸ªåŒ…åï¼Œä¾æ¬¡å¯¹æ¯ä¸ªåŒ…è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œè¿ç®—ç»“æœä¼šä½œä¸º FEC åŒ…ä¸æ•°æ®åŒ…ä¸€èµ·è¢«ä¼ è¾“ï¼Œå¦‚æœä¸å¹¸åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æœ‰ä¸€ä¸ªæ•°æ®åŒ…ä¸¢å¤±ï¼Œ é‚£ä¹ˆå°±å¯ä»¥æ ¹æ®å‰©ä½™ 9 ä¸ªåŒ…ä»¥åŠ FEC åŒ…æ¨ç®—å‡ºä¸¢å¤±çš„é‚£ä¸ªåŒ…çš„æ•°æ®ï¼Œè¿™æ ·å°±å¤§å¤§å¢åŠ äº†åè®®çš„å®¹é”™æ€§ã€‚")]),t._v(" "),r("p",[t._v("è¿™æ˜¯ç¬¦åˆç°é˜¶æ®µç½‘ç»œæŠ€æœ¯çš„ä¸€ç§æ–¹æ¡ˆï¼Œç°é˜¶æ®µå¸¦å®½å·²ç»ä¸æ˜¯ç½‘ç»œä¼ è¾“çš„ç“¶é¢ˆï¼Œå¾€è¿”æ—¶é—´æ‰æ˜¯ï¼Œæ‰€ä»¥æ–°çš„ç½‘ç»œä¼ è¾“åè®®å¯ä»¥é€‚å½“å¢åŠ æ•°æ®å†—ä½™ï¼Œå‡å°‘é‡ä¼ æ“ä½œã€‚ å½“ç„¶è¿™ç§æƒ…å†µåªé€‚ç”¨äºä¸¢å¤±ä¸€ä¸ªåŒ…çš„æƒ…å†µä¸‹ï¼Œå¦‚æœä¸¢å¤±äº†å¤šä¸ªåŒ…ï¼Œå°±åªèƒ½è¿›è¡Œé‡ä¼ äº†ã€‚")]),t._v(" "),r("h4",{attrs:{id:"qpack-å‹ç¼©"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#qpack-å‹ç¼©"}},[t._v("#")]),t._v(" QPACK å‹ç¼©")]),t._v(" "),r("p",[t._v("QPACK å‹ç¼©æ˜¯ HTTP/3 ä¸­ä½¿ç”¨çš„å­—æ®µå‹ç¼©æ ¼å¼ï¼Œå¯ä»¥ä½¿ HTTP/2 ä¸­ä½¿ç”¨çš„ HPACK å‹ç¼©æ ¼å¼ä¸ QUIC åè®®å…¼å®¹ï¼Œä¸¤ç§å‹ç¼©æ ¼å¼é€šè¿‡ä½¿ç”¨ä¸åŒçš„æœºåˆ¶æ¥æ»¡è¶³ä¼ è¾“å±‚åè®®çš„è¦æ±‚ã€‚")]),t._v(" "),r("p",[r("strong",[t._v("é‚£ä¹ˆ HTTP/3 ä¸­ä¸ºä»€ä¹ˆä¸èƒ½ç»§ç»­ä½¿ç”¨ HPACK å‹ç¼©æ ¼å¼å‘¢")]),t._v("ï¼Ÿ")]),t._v(" "),r("p",[t._v("å› ä¸º HPACK æ ¼å¼æ˜¯ä¸º TCP åè®®åˆ›å»ºçš„æ ¼å¼ï¼Œè¿™ç§æ ¼å¼å·¥ä½œçš„å‰æå°±æ˜¯é»˜è®¤æ•°æ®å­—èŠ‚æµæŒ‰ç…§é¡ºåºè¾¾åˆ°ï¼Œå¦‚æœ HTTP/3 ä¸­ç»§ç»­ä½¿ç”¨ HPACK å‹ç¼©æ ¼å¼ï¼Œ å°±ä¼šå¯¼è‡´é¢å¤–çš„ "),r("strong",[t._v("é˜Ÿåˆ—å¤´éƒ¨è¯·æ±‚é˜»å¡ (head of line blocking)")]),t._v(" é—®é¢˜ï¼Œå› ä¸º HPACK ä¾èµ–äºå¯¹å·²ç»åˆ°è¾¾å­—æ®µçš„å¼•ç”¨ã€‚ä½†æ˜¯ï¼ŒHTTP/3 ä¸­çš„ QUIC çš„ä¼ è¾“å±‚åè®®ä¸º UDP, æ•°æ®å­—èŠ‚ä¸ä¼šæŒ‰ç…§é¡ºåºåˆ°è¾¾ï¼Œå› æ­¤ HPACK æ ¼å¼ä¸­çš„åŠ¨æ€è¡¨ä¸­å¯èƒ½ä¼šåŒ…å«è¿˜æœªè¾¾åˆ°çš„æ•°æ®çš„å¼•ç”¨ï¼Œäºæ˜¯å°±ä¼šé˜»å¡ç›´åˆ°è¢«å¼•ç”¨çš„æ•°æ®åˆ°è¾¾ã€‚")]),t._v(" "),r("p",[t._v("ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒQPACK "),r("strong",[t._v("å¼•å…¥äº†ä¸¤ç§å•å‘æµç±»å‹: ç¼–ç å™¨æµå’Œè§£ç å™¨æµ")]),t._v("ï¼Œé™¤äº†ä¼ é€’ HTTP/3 æ¶ˆæ¯çš„åŒå‘å­—èŠ‚æµä¹‹å¤–ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¯ä»¥é€‰æ‹©æ€§åœ°æ‰“å¼€è¿™ä¸¤ä¸ªå•å‘ç¼–ç æµï¼Œ å°†å…·ä½“çš„æŒ‡ä»¤ä¼ è¾“ç»™å¯¹æ–¹ã€‚å› ä¸ºæµæ˜¯å•å‘çš„ï¼Œæ‰€ä»¥å‘é€æ–¹åªéœ€è¦å‘é€æ•°æ®å³å¯ï¼Œæ— éœ€ç­‰åˆ°æ¥æ”¶æ–¹çš„å“åº”ã€‚")]),t._v(" "),r("p",[t._v("æœ€ç»ˆï¼Œè™½ç„¶å¢åŠ é¢å¤–çš„å•å‘å­—èŠ‚æµä¼šå¸¦æ¥ä¸€å®šçš„æ€§èƒ½å¼€é”€ï¼Œä½†æ˜¯å´å¯ä»¥å½»åº•è§£å†³ "),r("strong",[t._v("é˜Ÿåˆ—å¤´éƒ¨è¯·æ±‚é˜»å¡ (head of line blocking)")]),t._v(" é—®é¢˜ï¼Œè€Œä¸” QPACK æ ¼å¼è§„èŒƒä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å®ç°æä¾›äº†å¾ˆé«˜çš„è‡ªç”±åº¦ï¼Œ å¯ä»¥ç”±å®ç°æ–¹æ¥å†³å®šå…·ä½“çš„é—®é¢˜é‡è¦ç¨‹åº¦å’Œæ–¹æ¡ˆå€¾å‘æ€§: ç¼“è§£å¹¶è§£å†³é˜Ÿåˆ—å¤´éƒ¨è¯·æ±‚é˜»å¡è¿˜æ˜¯å®ç°æ›´é«˜çº§åˆ«çš„å‹ç¼©æ•ˆæœã€‚")]),t._v(" "),r("h3",{attrs:{id:"quic-ç›¸æ¯”-tcp-çš„ä¼˜åŠ¿"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#quic-ç›¸æ¯”-tcp-çš„ä¼˜åŠ¿"}},[t._v("#")]),t._v(" QUIC ç›¸æ¯” TCP çš„ä¼˜åŠ¿")]),t._v(" "),r("ul",[r("li",[t._v("QUIC åœ¨ç”¨æˆ·ç©ºé—´å®ç°è€Œéå†…æ ¸ï¼Œè¿™æ ·å¯ä»¥å¿«é€Ÿéƒ¨ç½²æœ€æ–°ç‰ˆæœ¬æˆ–è‡ªå®šä¹‰ç‰ˆæœ¬ï¼ŒTCP åœ¨å†…æ ¸ä¸­å®ç°ï¼ŒåŸºæœ¬ä¸å¤ªå¯èƒ½éšæ—¶éƒ¨ç½²æ–°ç‰ˆæœ¬")]),t._v(" "),r("li",[t._v("QUIC å…·æœ‰æ›´é«˜çº§åˆ«çš„åŠ å¯† (ä¾‹å¦‚å¤§éƒ¨åˆ† QUIC Header éƒ½æ˜¯åŠ å¯†çš„)ï¼ŒTCP æœ¬èº«ä¸åšæ•°æ®åŠ å¯†ï¼Œéœ€è¦ä¾èµ–äº TLS")]),t._v(" "),r("li",[t._v("QUIC å»ºç«‹åœ¨ä¼ è¾“å±‚åè®®æ ˆä¸Šï¼Œæ„å‘³ç€å¯ä»¥éšæ—¶åˆ‡æ¢ä¼ è¾“åè®®ï¼Œæœ‰ç€éå¸¸é«˜çš„çµæ´»æ€§ (ä¾‹å¦‚å¯ä»¥å°†åº•å±‚çš„ UDP åˆ‡æ¢åˆ° TCP)")])]),t._v(" "),r("h3",{attrs:{id:"quic-å­˜åœ¨çš„é™åˆ¶"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#quic-å­˜åœ¨çš„é™åˆ¶"}},[t._v("#")]),t._v(" QUIC å­˜åœ¨çš„é™åˆ¶")]),t._v(" "),r("ul",[r("li",[t._v("æ€§èƒ½æå‡å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äº QUIC æ–¹æ¡ˆçš„å®æ–½ï¼Œè¿™åŒ…æ‹¬æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆã€åè®®æ ˆå®ç°ç‰ˆæœ¬ã€QUIC çš„å®ç°ç‰ˆæœ¬ç­‰å› ç´ ")]),t._v(" "),r("li",[t._v("ä½¿ç”¨ HTTP/3 ä¹‹å‰éœ€è¦è¿›è¡Œ HTTP ç‰ˆæœ¬åå•†ï¼Œæµè§ˆå™¨é»˜è®¤ä¸æ”¯æŒ HTTP/3, é€šå¸¸éœ€è¦åŸºäºå»ºç«‹åœ¨ TCP ä¸Šçš„ HTTP/1 æˆ– HTTP/2 æ¥å‘é€åå•†è¯·æ±‚")]),t._v(" "),r("li",[t._v("å¢åŠ ç½‘ç»œç®¡ç†å¤æ‚åº¦ï¼Œç”±äº QUIC ä¼šåŠ å¯†å¤§éƒ¨åˆ†æ•°æ®ï¼Œå› æ­¤æ’æŸ¥ç½‘ç»œé”™è¯¯ã€ä¼˜åŒ–ç½‘ç»œæ€§èƒ½å’Œå®‰å…¨æ€§ã€è®¾ç½®æŠ¥è­¦è§„åˆ™ç­‰å·¥ä½œéƒ½å˜å¾—æ›´åŠ å›°éš¾ï¼Œç”±äºè¿™äº›åŸå› ï¼Œå¾ˆå¤šé˜²ç«å¢™è¿˜æœªæ”¯æŒ QUIC")]),t._v(" "),r("li",[t._v("è®¸å¤šç½‘ç»œæ”»å‡»éƒ½æ˜¯åˆ©ç”¨ UDP å‘èµ·çš„ï¼Œæ®ç»Ÿè®¡å¤§æ¦‚æœ‰ 3% - 5% çš„ç½‘ç»œä¼šç›´æ¥è¿‡æ»¤ UDP è¯·æ±‚ (DNS ç­‰ç½‘ç»œåŸºç¡€åè®®é™¤å¤–)")])]),t._v(" "),r("h3",{attrs:{id:"æ˜¯å¦æ”¯æŒ-http-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æ˜¯å¦æ”¯æŒ-http-3"}},[t._v("#")]),t._v(" æ˜¯å¦æ”¯æŒ HTTP/3")]),t._v(" "),r("h4",{attrs:{id:"ç½‘ç«™æ£€æµ‹"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ç½‘ç«™æ£€æµ‹"}},[t._v("#")]),t._v(" ç½‘ç«™æ£€æµ‹")]),t._v(" "),r("p",[t._v("å¯ä»¥é€šè¿‡ "),r("a",{attrs:{href:"https://domsignal.com/http3-test",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ¨çº¿å·¥å…·"),r("OutboundLink")],1),t._v(" è¿›è¡Œæ£€æµ‹ã€‚")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http3_check.png",alt:"HTTP/3 åœ¨çº¿æ£€æµ‹å·¥å…·"}})]),t._v(" "),r("h4",{attrs:{id:"æµè§ˆå™¨æ”¯æŒæƒ…å†µ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨æ”¯æŒæƒ…å†µ"}},[t._v("#")]),t._v(" æµè§ˆå™¨æ”¯æŒæƒ…å†µ")]),t._v(" "),r("p",[t._v("å¯ä»¥é€šè¿‡ "),r("a",{attrs:{href:"https://caniuse.com/http3",target:"_blank",rel:"noopener noreferrer"}},[t._v("æµè§ˆå™¨åœ¨çº¿å·¥å…·"),r("OutboundLink")],1),t._v(" è¿›è¡Œæ£€æµ‹ï¼Œä¸‹é¢æ˜¯ç¬”è€…çš„ Chrome æ”¯æŒæƒ…å†µã€‚")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://dbwu.tech/images/http_check_browser.png",alt:"HTTP/3 åœ¨çº¿æ£€æµ‹å·¥å…·"}})]),t._v(" "),r("h2",{attrs:{id:"å°ç»“"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å°ç»“"}},[t._v("#")]),t._v(" å°ç»“")]),t._v(" "),r("p",[t._v("æœ¬æ–‡ä»‹ç»äº†ä» HTTP/1 åˆ° HTTP/3 ä¸­é—´å››æ¬¡æ¯”è¾ƒå¤§çš„åè®®å‡çº§å˜æ›´ï¼Œç€é‡åˆ†æäº†æ¯æ¬¡å‡çº§å‰åçš„æ€§èƒ½å·®å¼‚åŠç›¸å…³ç‰¹æ€§å˜æ›´ (å®‰å…¨æ–¹é¢çš„å˜æ›´æœªåˆ†æï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥è‡ªè¡Œé˜…è¯»ç›¸å…³ RFC)ã€‚ ä½œä¸ºå¼€å‘è€…ï¼Œå¹³æ—¶å¯èƒ½ä¸ä¼šå»å…³æ³¨è¿™äº›ç½‘ç»œåº•å±‚ç»†èŠ‚ï¼Œä½†æ˜¯æ·±å…¥ç†è§£æ•´ä¸ªHTTP åè®®çš„å‡çº§å˜è¿è¿‡ç¨‹ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£è¿™èƒŒåçš„å·¥ç¨‹æŒ‘æˆ˜ä»¥åŠè§£å†³æ€è·¯ï¼Œè¿™æ‰æ˜¯æœ€æœ‰ä»·å€¼çš„éƒ¨åˆ†ã€‚")]),t._v(" "),r("h3",{attrs:{id:"ç»ˆæç”¨æˆ·ä½“éªŒæ¨¡å¼"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ç»ˆæç”¨æˆ·ä½“éªŒæ¨¡å¼"}},[t._v("#")]),t._v(" ç»ˆæç”¨æˆ·ä½“éªŒæ¨¡å¼")]),t._v(" "),r("blockquote",[r("p",[t._v("æµè§ˆå™¨ä½œä¸ºæ“ä½œç³»ç»Ÿï¼Œç«™ç‚¹ä½œä¸ºåº”ç”¨è½¯ä»¶ï¼Œè¿™ç®—ä¸ç®—æ˜¯ä» B/S æ¶æ„åˆå›åˆ°äº† C/S æ¶æ„ï¼Ÿ")])]),t._v(" "),r("h2",{attrs:{id:"è½¬è½½åœ°å€"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#è½¬è½½åœ°å€"}},[t._v("#")]),t._v(" è½¬è½½åœ°å€")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://dbwu.tech/posts/http_evolution/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://dbwu.tech/posts/http_evolution/"),r("OutboundLink")],1)]),t._v(" "),r("h2",{attrs:{id:"reference"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[t._v("#")]),t._v(" Reference")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://datatracker.ietf.org/doc/html/rfc7540",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hypertext Transfer Protocol Version 2 (HTTP/2)"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://datatracker.ietf.org/doc/html/rfc9000",target:"_blank",rel:"noopener noreferrer"}},[t._v("QUIC: A UDP-Based Multiplexed and Secure Transport"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://datatracker.ietf.org/doc/rfc9114/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP/3"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://daniel.haxx.se/http2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP/2 explained"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://hpbn.co/http2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP/2"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://web.dev/performance-http2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Introduction to HTTP/2"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.cloudflare.com/zh-cn/learning/performance/what-is-http3/",target:"_blank",rel:"noopener noreferrer"}},[t._v("what-is-http3"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://docs.google.com/presentation/d/1r7QXGYOLCh4fcUq0jDdDwKJWNqWK1o4xMtYpKZCJYjM/edit?pli=1#slide=id.p19",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP/2 is here, letâ€™s optimize!"),r("OutboundLink")],1)])]),t._v(" "),r("h2",{attrs:{id:"æ‰©å±•é˜…è¯»"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æ‰©å±•é˜…è¯»"}},[t._v("#")]),t._v(" æ‰©å±•é˜…è¯»")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://httpwg.org/specs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP Documentation Core Specifications"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2018/03/http2_server_push.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP/2 æœåŠ¡å™¨æ¨é€ï¼ˆServer Pushï¼‰æ•™ç¨‹"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://blog.cloudflare.com/http-2-for-web-developers/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP/2 For Web Developers"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/HTTPArchive/almanac.httparchive.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("Web Almanac"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://halfrost.com/http2-hpack-example/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP/2 HPACK å®é™…åº”ç”¨ä¸¾ä¾‹"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://halfrost.com/http2-header-compression/",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¯¦è§£ HTTP/2 å¤´å‹ç¼©ç®—æ³• â€”â€” HPACK"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/32553477",target:"_blank",rel:"noopener noreferrer"}},[t._v("QUICåè®®åŸç†åˆ†æ"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.smashingmagazine.com/2021/08/http3-core-concepts-part1/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP/3 From A To Z: Core Concepts"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.debugbear.com/blog/http3-quic-protocol-guide",target:"_blank",rel:"noopener noreferrer"}},[t._v("A Comprehensive Guide To HTTP/3 And QUIC"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://datatracker.ietf.org/doc/html/draft-joseph-quic-comparison-quic-sctp-00",target:"_blank",rel:"noopener noreferrer"}},[t._v("A Comparison between SCTP and QUIC"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://blog.cloudflare.com/cloudflare-view-http3-usage/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP RFCs have evolved: A Cloudflare view of HTTP usage trends"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://blog.cloudflare.com/better-http-3-prioritization-for-a-faster-web/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Introducing HTTP/3 Prioritization"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/caddyserver/caddy",target:"_blank",rel:"noopener noreferrer"}},[t._v("Caddy"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://httparchive.org/reports/state-of-the-web",target:"_blank",rel:"noopener noreferrer"}},[t._v("Report: State of the Web"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=s.exports}}]);