(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{358:function(a,t,s){"use strict";s.r(t);var e=s(4),_=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"一、cmake介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、cmake介绍"}},[a._v("#")]),a._v(" 一、CMake介绍")]),a._v(" "),t("h3",{attrs:{id:"_1-cmake概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-cmake概述"}},[a._v("#")]),a._v(" 1，CMake概述")]),a._v(" "),t("ul",[t("li",[a._v("CMake 是一个开源的"),t("strong",[a._v("跨平台")]),a._v("工具系列，旨在构建、测试和打包软件；")]),a._v(" "),t("li",[a._v("CMake 使用与平台、编译器独立的简单配置文件，来控制软件编译过程，并生成"),t("strong",[a._v("当前编译环境")]),a._v("的 Makefile 文件；")]),a._v(" "),t("li",[a._v("Makefile 通常依赖于当前的编译平台，手写 Makefile 的工作量比较大，解决依赖关系时也容易出错；")]),a._v(" "),t("li",[a._v("CMake 工具套件由 Kitware 创建，以满足 ITK 和 VTK 等开源项目对强大的跨平台构建环境的需求；")]),a._v(" "),t("li",[a._v("CMake 广泛用于 C 和C++语言，但它可用于 也构建其他语言的源代码；")])]),a._v(" "),t("h3",{attrs:{id:"_2-编译的四个步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-编译的四个步骤"}},[a._v("#")]),a._v(" 2，编译的四个步骤")]),a._v(" "),t("h4",{attrs:{id:"a-预处理-preprocessing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#a-预处理-preprocessing"}},[a._v("#")]),a._v(" a) 预处理（Preprocessing）")]),a._v(" "),t("ul",[t("li",[a._v("预处理器会处理源代码中的预处理指令，包括头文件展开、宏定义替换、注释删除、条件编译等；")]),a._v(" "),t("li",[t("code",[a._v("g++ -E main.cc -o main.i")]),a._v(" ，生成 "),t("code",[a._v(".i")]),a._v(" 的预处理文件，文件里面还是代码；")])]),a._v(" "),t("h4",{attrs:{id:"b-编译-compilation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#b-编译-compilation"}},[a._v("#")]),a._v(" b) 编译（Compilation）")]),a._v(" "),t("ul",[t("li",[a._v("编译器对预处理后的代码逐行检查语法错误（最耗时），并将预处理文件中的代码翻称成汇编指令，生成汇编文件；")]),a._v(" "),t("li",[t("code",[a._v("g++ -S main.i -o mian.s")]),a._v(" ，生成 "),t("code",[a._v(".s")]),a._v(" 的汇编文件，文件里面是汇编指令；")])]),a._v(" "),t("h4",{attrs:{id:"c-汇编-assembly"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#c-汇编-assembly"}},[a._v("#")]),a._v(" c) 汇编（Assembly）")]),a._v(" "),t("ul",[t("li",[a._v("汇编器将汇编文件编译成二进制指令，得到二进制文件（还不可执行）；")]),a._v(" "),t("li",[t("code",[a._v("g++ -c main.i -o main.o")]),a._v("，生"),t("code",[a._v(".o")]),a._v(" 成的二进制文件；")])]),a._v(" "),t("h4",{attrs:{id:"d-链接-linking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#d-链接-linking"}},[a._v("#")]),a._v(" d) 链接（Linking")]),a._v(" "),t("ul",[t("li",[a._v("链接器通过数据段合并、数据地址回填、库引入等合成为一个单一文件，这个文件可被加载到内存并执行；")]),a._v(" "),t("li",[t("code",[a._v("g++ main.io -o main")]),a._v("，生可执行文件；")])]),a._v(" "),t("h2",{attrs:{id:"二、常用的命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、常用的命令"}},[a._v("#")]),a._v(" 二、常用的命令")]),a._v(" "),t("h3",{attrs:{id:"_1-命令行选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令行选项"}},[a._v("#")]),a._v(" 1 命令行选项")]),a._v(" "),t("h4",{attrs:{id:"a-生成项目构建系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#a-生成项目构建系统"}},[a._v("#")]),a._v(" a) 生成项目构建系统")]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),t("p",[a._v("CMake是一个构建系统生成器，生成相应构建系统(如：Unix Makefile、Ninja、Visual Studio等)的构建文件，告诉构建系统应当如何操作才能编译代码；"),t("br"),a._v(" "),t("strong",[a._v("源树")]),a._v("：包含项目源文件和顶级 "),t("code",[a._v("CMakeLists.txt")]),a._v(" 文件的目录；"),t("br"),a._v(" "),t("strong",[a._v("构建树")]),a._v("：生成系统文件和生成输出的顶级目录；"),t("br"),a._v(" "),t("strong",[a._v("构建器")]),a._v("：选择要生成的构建系统类型，默认选择当前平台；"),t("br")])]),a._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[a._v(" cmake [<options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("] -B <path-to-build"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v(" [-S <path-to-source"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("]\n cmake [<options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("] <path-to-source | path-to-existing-build"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])])])}),[],!1,null,null,null);t.default=_.exports}}]);